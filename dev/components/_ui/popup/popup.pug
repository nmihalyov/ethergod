include ../tabs/tabs
include ../button/button
include ../input/input
include ../checkbox/checkbox
include ../../progress/progress
include ../../levels/levels

mixin popup(type, unverified)
  .popup.js-popup.js-close-popup(data-popup=type)
    .popup__backdrop
    .popup__container
      .popup__wrapper
        .popup__window
          .popup__head
            if type === 'wallet'
              p.popup__title Кошелёк
            if type === 'vip'
              p.popup__title Вип-программа
            .popup__close.js-close-popup
          .popup__content
            if type === 'wallet'
              .popup__wallet
                +tabs([{title: 'Депозит'}, {title: 'Вывод'}, {title: 'Обмен'}, {title: 'Перевод'}])
                  .js-tabs-content(data-content="1")
                    form.popup__wallet-content(action="")
                      .popup__dropdown.js-popup-dropdown(data-dropdown)
                        .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth") ETH
                        .popup__dropdown-inner.js-popup-dropdown-inner
                          .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth-grey") BTC
                      +input('text', 'Ваш адрес для депозита ETH', 'ethDepositWalletAddress', '', '3AzDfas5sKcnbsksxC3eMdMbr3mXnzvgQY', 'popup__input', {copy: true})
                      img.popup__qr(src="img/inhtml/qr.png", alt="")
                      p.popup__desc Отправляйте деньги только на этот адрес<br>Количество подтверждений - 1
                  .js-tabs-content(data-content="2")
                    form.popup__wallet-content.js-form-withdraw(action="")
                      if unverified
                        .popup__wallet-unverified
                          +button-primary('link', 'Пожалуйста, подтвердите почту для осуществления вывода', '', {link: '#'})
                      .popup__dropdown.js-popup-dropdown(data-dropdown)
                        .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth") 0.00000000
                        .popup__dropdown-inner.js-popup-dropdown-inner
                          .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth-grey") 1.22342420
                      +input('text', 'Ваш адрес ETH', 'ethWithdrawalWalletAddress', 'Введите адрес кошелька ETH для вывода', '', 'popup__input', {error: 'Неверные данные'})
                      +input('number', 'Сумма для вывода в ETH (минимум 0.0005 ETH)', 'ethSumToWithdraw', 'Введите сумму для вывода', '', 'popup__input', {error: 'Недостаточно средств', sum: true, min: 0.0005, max: 1.2234242})
                      p.popup__desc При переводе из вашего остающегося баланса будет вычтено <br>0.0001 ETH в качестве комиссии за обработку операции
                      +button-primary('submit', 'Вывести')
                  .js-tabs-content(data-content="3")
                    .popup__wallet-content
                      p.popup__desc Внесите депозит в любой из поддерживаемых альтернатиных валют, доступных на Coinswitch, а затем автоматически конвертируйте его в валюту, доступную на EtherGod
                      .popup__dropdowns
                        .popup__dropdown.js-popup-dropdown(data-dropdown)
                          .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth") USDT
                          .popup__dropdown-inner.js-popup-dropdown-inner
                            .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth-grey") RUB
                        .popup__swap
                        .popup__dropdown.popup__dropdown--reverse.js-popup-dropdown(data-dropdown)
                          .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth") ETH
                          .popup__dropdown-inner.js-popup-dropdown-inner
                            .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth-grey") BTC
                      p.popup__desc Транзакции Coinswitch могут занять от 5 до 30 минут
                      +button-primary('link', 'Посмотреть курс обмена', '', {link: '#'})
                  .js-tabs-content(data-content="4")
                    form.popup__wallet-content.js-form-transfer(action="")
                      .popup__dropdown.js-popup-dropdown(data-dropdown)
                        .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth") 0.00000000
                        .popup__dropdown-inner.js-popup-dropdown-inner
                          .popup__dropdown-item.js-popup-dropdown-item(data-icon="eth-grey") 1.22342420
                      +input('text', 'Имя получателя', 'recipientName', 'Введите имя получателя', '', 'popup__input', {error: 'Неверные данные'})
                      +input('number', 'Сумма перевода', 'transferAmount', 'Введите сумму перевода', '', 'popup__input', {error: 'Недостаточно средств', sum: true, min: 0, max: 1.2234242, additional: '$300.00'})
                      +checkbox('showInChat', 'popup__checkbox', false, false, 'Отобразить перевод в чате')
                      +button-primary('submit', 'Перевести')
                .popup__wallet-auth
                  p.popup__wallet-auth-text У вас отключена 2ФА. Подключите её для повышения безопасности
                  +button-secondary('link', 'Включить двухфакторную аутентификацию', '', {link: '#'})
            if type === 'vip'
                +tabs([{title: 'Прогресс'}, {title: 'Привилегии'}])
                  .js-tabs-content(data-content="1")
                    .popup__vip.popup__vip--progress
                      img(src="img/inhtml/vip.png", alt="").popup__vip-image
                      +progress(true, true)
                      p.popup__vip-desc Ваш прогресс рассчитывается исходя из суммы вашего оборота в казино. Переход на более высокий уровень даёт вам право на повышенные бонусы и эксклюзивное ВИП-обслуживание
                      +button-primary('link', 'Узнать больше о вип-программе EtherGod', '', {link: '#'})
                  .js-tabs-content(data-content="2")
                    .popup__vip
                      +levels
                      +button-primary('link', 'Узнать больше о вип-программе EtherGod', '', {link: '#'})