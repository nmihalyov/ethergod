"use strict";window.onload=function(){$(document).on("click",(function(e){$(e.target).closest(".js-tabs-dropdown").length||$(".js-tabs-dropdown").removeClass("js-tabs-dropdown--active").find(".js-tabs-dropdown-inner").slideUp(300)})),$(".js-tab").on("click",(function(e){var t=$(e.currentTarget),n=t.attr("data-content"),s=t.closest(".js-tabs");s.find(".tabs__item--active").removeClass("tabs__item--active"),t.addClass("tabs__item--active"),s.find(".js-tabs-content").hide(0),s.find('.js-tabs-content[data-content="'.concat(n,'"]')).fadeIn(500)})),$("body").on("click",".js-tabs-dropdown-item",(function(e){var t=$(e.currentTarget);if(!t.siblings(".js-tabs-dropdown-inner").length){var n=t.parent();t.parent().siblings(".js-tabs-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-tabs-dropdown"));var s=Array.from(t.next().children()).sort((function(e,t){if(e.innerText<t.innerText)return-1}));t.next().children().remove(),n.append(s)}t.closest(".js-tabs-dropdown").toggleClass("js-tabs-dropdown--active").find(".js-tabs-dropdown-inner").slideToggle(300)})),$(document).on("click",(function(e){$(e.target).closest(".js-popup-dropdown").length||$(".js-popup-dropdown").removeClass("js-popup-dropdown--active").find(".js-popup-dropdown-inner").slideUp(300)}));var e=0,t=function(){e=window.scrollY,$("body").css({position:"fixed",marginTop:"".concat(-e,"px")})},n=function(){$("body").css({position:"static",marginTop:"0"}),window.scrollTo(0,e)};$(".js-open-popup").on("click",(function(e){var n=$(e.currentTarget).attr("data-popup");!function(e){t(),$(".js-popup").hide(0),e.fadeIn(300)}($('.js-popup[data-popup="'.concat(n,'"]')))})),$(".js-close-popup").on("click",(function(e){!function(e,t){$(e.target).closest(".popup__window").length&&t.hasClass("js-popup")||(n(),t.closest(".js-popup").hide(0))}(e,$(e.currentTarget))})),$(".js-popup-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-popup-dropdown-inner").length||(t.parent().siblings(".js-popup-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-popup-dropdown"))),t.closest(".js-popup-dropdown").toggleClass("js-popup-dropdown--active").find(".js-popup-dropdown-inner").slideToggle(300)})),$(".js-form-withdraw").on("submit",(function(e){e.preventDefault();var t=$(e.currentTarget),n=t.find('input[name="ethWithdrawalWalletAddress"]'),s=t.find('input[name="ethSumToWithdraw"]');34!==n.val().length&&(!1,n.closest(".input").addClass("input--error")),s.val()<s.attr("data-min")?(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Минимум ".concat(s.attr("data-min")))):s.val()>s.attr("data-max")&&(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Недостаточно средств"))})),$(".js-form-transfer").on("submit",(function(e){e.preventDefault();var t=$(e.currentTarget),n=t.find('input[name="recipientName"]'),s=t.find('input[name="transferAmount"]');34!==n.val().length&&(!1,n.closest(".input").addClass("input--error")),s.val()>s.attr("data-max")&&(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Недостаточно средств"))})),$(".js-popup-refresh").on("click",(function(e){var t=$(e.currentTarget);t.addClass("popup__refresh--loading"),setTimeout((function(){t.removeClass("popup__refresh--loading")}),1e3)})),$('.popup__user-action[data-action="transfer"]').on("click",(function(e){var t=$(e.currentTarget).parent().siblings(".popup__user-name").text();$('[data-popup="wallet"] .js-tab:last-child').click(),$('[data-popup="wallet"] input[name="recipientName"]').val(t)})),$('.popup__user-action[data-action="blacklist"]').on("click",(function(e){$(e.currentTarget).toggleClass("popup__user-action--active")})),$(document).on("click",(function(e){var t=$(e.target);t.hasClass("js-tel-dropdown")||t.hasClass("input__field")||$(".js-tel-dropdown").removeClass("js-tel-dropdown--active").find(".js-tel-dropdown-inner").slideUp(300)})),$(".js-input-copy").on("click",(function(e){e.preventDefault();var t=e.currentTarget.parentNode.querySelector("input"),n=t.getAttribute("type");t.setAttribute("type","text"),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),t.setAttribute("type",n)})),$(".input").on("input",(function(e){$(e.currentTarget).closest(".input").removeClass("input--error")})),$(".js-input-max").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".input__field").val(t.siblings(".input__field").attr("data-max")),t.closest(".input").removeClass("input--error")})),$(".js-tel-dropdown").on("click",(function(e){e.preventDefault(),$(e.currentTarget).toggleClass("js-tel-dropdown--active").find(".js-tel-dropdown-inner").slideToggle(300)})),$(".js-tel-dropdown-item").on("click",(function(e){var t=$(e.currentTarget),n=t.attr("data-icon");t.closest(".js-tel-dropdown").attr("data-icon",n),t.closest(".input").find("input").attr("placeholder",t.attr("data-mask").replaceAll("9","_")).inputmask(t.attr("data-mask"))})),$('input[type="tel"]').each((function(e,t){$(t).inputmask($(t).attr("data-mask"))})),$(".js-input-toggle").on("click",(function(e){e.preventDefault();var t=$(e.currentTarget).siblings("input");t.attr("type","password"===t.attr("type")?"text":"password")})),$('input[type="file"]').on("change",(function(e){var t=$(e.currentTarget),n=t.prop("files")[0].name;t.siblings(".input__file").addClass("input__file--uploaded").text(n)})),$(".code__input").on("keyup",(function(e){var t=$(e.currentTarget),n=t.val(),s=e.keyCode||e.charCode,a=!1;t.val(n.replace(/[^0-9]/g,"")),/[^0-9]/g.test(n)||8==s||46==s?8!=s&&46!=s||""!==n||t.prev().focus():t.next().focus(),t.parent().find("input").each((function(e,t){""===t.value&&(a=!0)})),a||(t.parent().addClass("code--entered"),t.parent().parent().find(".js-code-title").hide(),t.parent().parent().find(".js-code-result").show(),t.blur())}));var s=function(){var e=160-$(".js-chat-input").val().length;$(".js-chat-counter").text(e),160-$(".js-chat-input").val().length<0?$(".chat__footer-input-counter").addClass("chat__footer-input-counter--error"):$(".chat__footer-input-counter").removeClass("chat__footer-input-counter--error")},a=function(e){var t=$(".js-chat-input").val(),n="";n=/\s$/.test($(".js-chat-input").val())||0===t.length?e:" "+e,$(".js-chat-input").val(t+n).focus(),s()};if($(document).on("click",(function(e){$(e.target).closest(".js-chat-dropdown").length||$(".js-chat-dropdown").removeClass("js-chat-dropdown--active").find(".js-chat-dropdown-inner").slideUp(300)})),$(".js-chat-open").on("click",(function(){$(".js-chat").slideDown(300),$(".js-chat-messages").scrollTop($(".js-chat-messages").prop("scrollHeight"),0),$(".js-chat-input").focus()})),$(".js-chat-close").on("click",(function(){$(".js-chat").slideUp(300),$(".js-chat-input").blur()})),$(".js-chat-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-chat-dropdown-inner").length||(t.parent().siblings(".js-chat-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-chat-dropdown"))),t.closest(".js-chat-dropdown").toggleClass("js-chat-dropdown--active").find(".js-chat-dropdown-inner").slideToggle(300)})),$(".js-chat-input").on("input",(function(e){var t=$(e.currentTarget).val();s(),/@$/.test(t)?($(".js-chat-mentions").slideDown(300),$(".js-chat-commands").slideUp(300)):/\/$/.test(t)?($(".js-chat-commands").slideDown(300),$(".js-chat-mentions").slideUp(300)):($(".js-chat-mentions").slideUp(300),$(".js-chat-commands").slideUp(300))})),$(".js-chat-messages").on("scroll",(function(e){var t=$(e.currentTarget);requestAnimationFrame((function(){t.scrollTop()+t.innerHeight()>=t.prop("scrollHeight")-10?t.parent().addClass("chat__messages--bottom"):t.parent().removeClass("chat__messages--bottom")}))})),$(".js-chat-scroll").on("click",(function(){$(".js-chat-messages").animate({scrollTop:$(".js-chat-messages").prop("scrollHeight")},300)})),$(".js-chat-mentioning").on("click",(function(e){e.preventDefault(),a("@"),$(".js-chat-mentions").slideDown(300)})),$(".js-chat-mention").on("click",(function(e){e.preventDefault(),$(".js-chat-input").val($(".js-chat-input").val()+$(e.currentTarget).text()+" "),$(".js-chat-mentions").slideUp(300),s(),$(".js-chat-input").focus()})),$(".js-chat-commanding").on("click",(function(e){e.preventDefault(),a("/"),$(".js-chat-commands").slideDown(300)})),$(".js-chat-command").on("click",(function(e){e.preventDefault(),$(".js-chat-input").val($(".js-chat-input").val()+$(e.currentTarget).attr("data-command")+" @"),$(".js-chat-commands").slideUp(300),$(".js-chat-mentions").slideDown(300),s(),$(".js-chat-input").focus()})),$(".js-chat-form").on("submit",(function(e){if(e.preventDefault(),moment.locale("ru"),160-$(".js-chat-input").val().length<0)return $(".js-chat-input").focus(),!1;var t=$(".chat__messages-block:last-child").find(".chat__messages-date").text(),n=moment(new Date).format("dddd HH:mm"),a='\n    <p class="chat__messages-item">\n      <span class="chat__messages-name">username</span>: '.concat($(".js-chat-input").val(),"\n    </p>").replace(/@(\S+)\s/gm,(function(e,t){return'<a href="/user/'.concat(t,'" class="chat__messages-user">@').concat(t,"</a> ")}));$(".js-chat-input").val().replace(/\s/g,"").length&&(n===t?$(".js-chat-messages .chat__messages-block:last-child").append(a):$(".js-chat-messages").append('\n        <div class="chat__messages-block">\n          <p class="chat__messages-date">'.concat(n,"</p>\n          ").concat(a,"\n        </div>")),$(".js-chat-input").val("").focus(),$(".js-chat-messages").animate({scrollTop:$(".js-chat-messages").prop("scrollHeight")},300),s()),$(".js-chat-input").focus()})),$(document).on("click",(function(e){var t=$(e.target);t.closest(".js-menu").length||t.hasClass("js-burger")||t.closest(".js-burger").length||$(".js-menu").removeClass("header__menu--active"),t.closest(".js-header-dropdown").length||$(".js-header-dropdown").removeClass("js-header-dropdown--active").find(".js-header-dropdown-inner").slideUp(300),(!t.closest(".header__context").length||t.hasClass("js-open-popup")||t.hasClass("js-chat-open"))&&$(".js-header-context-menu").fadeOut(300)})),$(".js-burger").on("click",(function(){$(".js-menu").toggleClass("header__menu--active"),$(window).innerWidth()<1199&&t()})),$(".js-menu-close").on("click",(function(){$(".js-menu").removeClass("header__menu--active"),$(window).innerWidth()<1199&&n()})),localStorage.getItem("currencyShow")){var r=$('.js-header-dropdown-item[data-currency="'.concat(localStorage.getItem("currencyShow"),'"]'));r.parent().siblings(".js-header-dropdown-item").prependTo(r.parent()),r.prependTo(r.closest(".js-header-dropdown"))}$(".js-header-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-header-dropdown-inner").length||(t.parent().siblings(".js-header-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-header-dropdown"))),t.attr("data-currency")&&localStorage.setItem("currencyShow",t.attr("data-currency")),t.closest(".js-header-dropdown").toggleClass("js-header-dropdown--active").find(".js-header-dropdown-inner").slideToggle(300)})),$(".js-header-context").on("click",(function(e){var t=$(e.currentTarget);$(".js-header-context-menu").not(t.siblings()).fadeOut(300),t.siblings(".js-header-context-menu").fadeToggle(300)}));var o=function(e){"cash"===e?($(".header__crypto .js-header-dropdown-item").each((function(e,t){$(t).html("<span>$</span>".concat($(t).attr("data-cash")))})),$(".js-header-switch").attr("data-type","cash")):"crypto"===e&&($(".header__crypto .js-header-dropdown-item").each((function(e,t){$(t).html($(t).attr("data-crypto"))})),$(".js-header-switch").attr("data-type","crypto"))};"cash"===localStorage.getItem("cryptoCashView")?o("cash"):o("crypto"),$(".js-header-switch").on("click",(function(e){"crypto"===$(e.currentTarget).attr("data-type")?(localStorage.setItem("cryptoCashView","cash"),o("cash")):(localStorage.setItem("cryptoCashView","crypto"),o("crypto"))})),$(".js-slider").slick({variableWidth:!0,centerMode:!0,swipe:!1,prevArrow:'<div class="slider__carousel-arrow slider__carousel-arrow--prev"></div>',nextArrow:'<div class="slider__carousel-arrow slider__carousel-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,swipe:!0,swipeToSlide:!0}}]}),$(".js-games-slider").slick({infinite:!0,swipe:!1,slidesToShow:6,variableWidth:!0,prevArrow:'<div class="games__slider-arrow games__slider-arrow--prev"></div>',nextArrow:'<div class="games__slider-arrow games__slider-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{swipe:!0,swipeToSlide:!0,slidesToShow:3}}]}),$(".js-group-filter").on("click",(function(e){$(e.currentTarget).toggleClass("group__filter--active")})),$(".levels__item-head").on("click",(function(e){var t=$(e.currentTarget);$(".levels__item-desc").slideUp(300),t.hasClass("levels__item-head--active")?t.removeClass("levels__item-head--active"):($(".levels__item-head--active").removeClass("levels__item-head--active"),t.addClass("levels__item-head--active"),t.parent().find(".levels__item-desc").slideDown(300))})),$(".js-vip-slider").slick({variableWidth:!0,variableHeight:!0,centerMode:!0,swipe:!1,prevArrow:'<div class="vip__feedback-arrow vip__feedback-arrow--prev"></div>',nextArrow:'<div class="vip__feedback-arrow vip__feedback-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,swipe:!0,swipeToSlide:!0}}]}),$(document).on("click",(function(e){$(e.target).closest(".js-settings-filter").length||$(".js-settings-filter").removeClass("js-settings-filter--active").find(".js-settings-filter-inner").slideUp(300),$(e.target).closest(".js-settings-dropdown").length||$(".js-settings-dropdown").removeClass("js-settings-dropdown--active").find(".js-settings-dropdown-inner").slideUp(300)})),$(".js-settings-filter-item").on("click",(function(e){var t=$(e.currentTarget);t.parent().hasClass("js-settings-filter")&&e.preventDefault(),t.closest(".js-settings-filter").toggleClass("js-settings-filter--active").find(".js-settings-filter-inner").slideToggle(300)})),$(".js-settings-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-settings-dropdown-inner").length||(t.parent().siblings(".js-settings-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-settings-dropdown"))),t.closest(".js-settings-dropdown").toggleClass("js-settings-dropdown--active").find(".js-settings-dropdown-inner").slideToggle(300)})),$(document).on("click",(function(e){$(e.target).closest(".js-player-dropdown").length||$(".js-player-dropdown").removeClass("js-player-dropdown--active").find(".js-player-dropdown-inner").slideUp(300),$(e.target).closest(".js-player-bubble").length||$(e.target).closest('[data-control="info"]').length||$(".js-player-bubble").fadeOut(300)})),$(".player__about-head").on("click",(function(e){var t=$(e.currentTarget);t.toggleClass("player__about-head--active"),t.parent().find(".player__about-content").slideToggle(300)})),$(".js-game-switch").on("click",(function(e){$(e.currentTarget).find(".player__game-switch-input").toggleClass("player__game-switch-input--active")})),$('[data-control="fullscreen"]').on("click",(function(){var e=document.body,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}$(".js-player-frame").addClass("player__game-frame--fullscreen"),$(".player__game-inner").addClass("player__game-inner--fullscreen")})),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",(function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||($(".js-player-frame").removeClass("player__game-frame--fullscreen"),$(".player__game-inner").removeClass("player__game-inner--fullscreen"))})),$('[data-control="favorite"]').on("click",(function(e){$(e.currentTarget).toggleClass("player__game-control--active")})),$('[data-control="info"]').on("click",(function(){$(".js-player-bubble").css("display","flex").hide(0).fadeIn(300)})),$(".js-player-bubble-close").on("click",(function(){$(".js-player-bubble").fadeOut(300)})),$(".js-play-real").on("click",(function(){$(".player__game-switch-input").addClass("player__game-switch-input--active"),$(".player__game-overlay").fadeOut(300),$(".player__game-menu").removeClass("player__game-menu--disabled")})),$(".js-play-entertain").on("click",(function(){$(".player__game-switch-input").removeClass("player__game-switch-input--active"),$(".player__game-overlay").fadeOut(300),$(".player__game-menu").removeClass("player__game-menu--disabled")})),$(".js-player-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-player-dropdown-inner").length||(t.parent().siblings(".js-player-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-player-dropdown"))),t.closest(".js-player-dropdown").toggleClass("js-player-dropdown--active").find(".js-player-dropdown-inner").slideToggle(300)})),$(".js-search-input input").on("input",(function(e){$(e.currentTarget).val().length>=3?($(".js-search-text").hide(0),$(".js-search-output").fadeIn(300)):($(".js-search-output").hide(0),$(".js-search-text").fadeIn(300))})),$(".js-search-recommend").on("click",(function(e){$(".js-search-input input").val(e.currentTarget.innerText),$(".js-search-input input").trigger("input")}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJvbiIsImUiLCIkIiwidGFyZ2V0IiwiY2xvc2VzdCIsImxlbmd0aCIsImZpbmQiLCJzbGlkZVVwIiwiJHRoaXMiLCJjdXJyZW50VGFyZ2V0IiwiYXR0ciIsIiR0YWJzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhpZGUiLCJjb25jYXQiLCJmYWRlSW4iLCJzaWJsaW5ncyIsIiR0YWJzRHJvcGRvd25Jbm5lciIsInByZXBlbmRUbyIsInBhcmVudCIsIiRzb3J0ZWRJdGVtcyIsIkFycmF5IiwiY2hpbGRyZW4iLCJzb3J0IiwiYSIsImlubmVyVGV4dCIsImZyb20iLCJuZXh0IiwiYiIsInJlbW92ZSIsImRvY3VtZW50IiwiYXBwZW5kIiwidG9wT2Zmc2V0IiwibWFyZ2luVG9wIiwiaGlkZU92ZXJmbG93Iiwic2Nyb2xsWSIsImNzcyIsInBvc2l0aW9uIiwic2hvd092ZXJmbG93IiwiY2xvc2VQb3B1cCIsInNjcm9sbFRvIiwiJHBvcHVwIiwiaGFzQ2xhc3MiLCIkYWRkcmVzcyIsImlzVmFsaWQiLCJ0b2dnbGVDbGFzcyIsInNsaWRlVG9nZ2xlIiwiJGFtb3VudCIsInByZXZlbnREZWZhdWx0IiwidmFsIiwidGV4dCIsIiRuYW1lIiwic2V0VGltZW91dCIsImlucHV0Iiwic2VsZWN0IiwiY2xpY2siLCJuYW1lIiwicXVlcnlTZWxlY3RvciIsImljb24iLCJzZXRTZWxlY3Rpb25SYW5nZSIsImV4ZWNDb21tYW5kIiwic2V0QXR0cmlidXRlIiwiZmlsZU5hbWUiLCJrZXlDb2RlIiwiY2hhckNvZGUiLCJpbnB1dFZhbCIsImtleSIsInByZXYiLCJmb2N1cyIsInJlcGxhY2VBbGwiLCJpbnB1dG1hc2siLCJlYWNoIiwiaSIsImVsIiwiJGlucHV0RmllbGQiLCJwcm9wIiwiZW50ZXJTeW1ib2wiLCJjb2RlSXNOb3RFbnRlcmVkIiwicmVwbGFjZSIsImNvbW1hbmRTdHJpbmciLCJzeW1ib2wiLCJjb3VudFN5bWJvbHMiLCJ2YWx1ZSIsInNob3ciLCJibHVyIiwiaW5wdXRMZW5ndGgiLCJjdXJyZW50SW5wdXRUZXh0IiwidGVzdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNjcm9sbFRvcCIsInNsaWRlRG93biIsImlubmVySGVpZ2h0Iiwibm93RGF0ZVRpbWUiLCJEYXRlIiwiYW5pbWF0ZSIsImxhc3RCbG9ja0RhdGVUaW1lIiwiaW5uZXJXaWR0aCIsIm1vbWVudCIsImxvY2FsZSIsIiRjdXJyZW50Q3VycmVuY3kiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZm9ybWF0Iiwic2V0SXRlbSIsIm1lc3NhZ2UiLCJodG1sIiwic2V0Q3J5cHRvQ2FzaFZpZXciLCJmYWRlT3V0IiwicHJldkFycm93IiwibmV4dEFycm93IiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiaW5maW5pdGUiLCJzd2lwZSIsIm5vdCIsImZhZGVUb2dnbGUiLCJ0eXBlIiwiY2VudGVyTW9kZSIsInJlc3BvbnNpdmUiLCJhcnJvd3MiLCJzbGljayIsInNsaWRlc1RvU2hvdyIsInZhcmlhYmxlV2lkdGgiLCJzd2lwZVRvU2xpZGUiLCJyZXF1ZXN0TWV0aG9kIiwid3NjcmlwdCIsIlNlbmRLZXlzIiwidmFyaWFibGVIZWlnaHQiLCJib2R5IiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbFNjcmVlbiIsImNhbGwiLCJBY3RpdmVYT2JqZWN0IiwiZnVsbFNjcmVlbiIsIm1vekZ1bGxTY3JlZW4iLCJ3ZWJraXRJc0Z1bGxTY3JlZW4iLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiYUFBQUEsT0FBT0MsT0FBUyxXQUFoQkQsRUFBQUEsVUFBQUUsR0FBZ0IsU0FBQSxTQUFBQyxHQUdkQyxFQUFBRCxFQUFBRSxRQUFBQyxRQUFBLHFCQUFBQyxRQUNBSCxFQUFBLHFCQUFnQkUsWUFBUSw0QkFBNkJFLEtBQUEsMkJBQUFDLFFBQUEs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QUFZLDhCQUE4QnhDLEtBQUssNkJBQTZCeUMsWUFBWSxRQUcvSDdDLEVBQUUsMEJBQTBCRixHQUFHLFNBQVMsU0FBQUMsR0FDeEJDLEVBQUVELEVBQUVRLGVBRVJ5QyxNQUFNN0MsUUFBVSxHQUN4QkgsRUFBRSxtQkFBbUJZLEtBQUssR0FDMUJaLEVBQUUscUJBQXFCYyxPQUFPLE9BRTlCZCxFQUFFLHFCQUFxQlksS0FBSyxHQUM1QlosRUFBRSxtQkFBbUJjLE9BQU8sU0FJaENkLEVBQUUsd0JBQXdCRixHQUFHLFNBQVMsU0FBQUMsR0FDcENDLEVBQUUsMEJBQTBCZ0QsSUFBSWpELEVBQUVRLGNBQWNpQixXQUNoRHhCLEVBQUUsMEJBQTBCeUksUUFBUSIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLXRhYnMtZHJvcGRvd24nKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtdGFicy1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdqcy10YWJzLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGFicy1kcm9wZG93bi1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxufSk7XG5cbi8vIHRhYnMgaGFuZGxpbmdcbiQoJy5qcy10YWInKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtY29udGVudCcpO1xuICBjb25zdCAkdGFicyA9ICR0aGlzLmNsb3Nlc3QoJy5qcy10YWJzJyk7XG5cbiAgJHRhYnMuZmluZCgnLnRhYnNfX2l0ZW0tLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcbiAgJHRoaXMuYWRkQ2xhc3MoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuXG4gICR0YWJzLmZpbmQoJy5qcy10YWJzLWNvbnRlbnQnKS5oaWRlKDApO1xuICAkdGFicy5maW5kKGAuanMtdGFicy1jb250ZW50W2RhdGEtY29udGVudD1cIiR7dGFyZ2V0fVwiXWApLmZhZGVJbig1MDApO1xufSk7XG5cbi8vIHRhYnMgZHJvcGRvd25cbiQoJ2JvZHknKS5vbignY2xpY2snLCAnLmpzLXRhYnMtZHJvcGRvd24taXRlbScsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy10YWJzLWRyb3Bkb3duLWlubmVyJykubGVuZ3RoKSB7XG4gICAgY29uc3QgJHRhYnNEcm9wZG93bklubmVyID0gJHRoaXMucGFyZW50KCk7XG4gICAgJHRoaXMucGFyZW50KCkuc2libGluZ3MoJy5qcy10YWJzLWRyb3Bkb3duLWl0ZW0nKS5wcmVwZW5kVG8oJHRoaXMucGFyZW50KCkpO1xuICAgICR0aGlzLnByZXBlbmRUbygkdGhpcy5jbG9zZXN0KCcuanMtdGFicy1kcm9wZG93bicpKTtcblxuICAgIC8vIHNvcnQgZWxlbWVudHNcbiAgICBjb25zdCAkc29ydGVkSXRlbXMgPSBBcnJheS5mcm9tKCR0aGlzLm5leHQoKS5jaGlsZHJlbigpKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhVGV4dCA9IGEuaW5uZXJUZXh0O1xuICAgICAgY29uc3QgYlRleHQgPSBiLmlubmVyVGV4dDtcbiAgXG4gICAgICBpZiAoYVRleHQgPCBiVGV4dCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkdGhpcy5uZXh0KCkuY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAkdGFic0Ryb3Bkb3duSW5uZXIuYXBwZW5kKCRzb3J0ZWRJdGVtcyk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtdGFicy1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdqcy10YWJzLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGFicy1kcm9wZG93bi1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZSA9PiB7XG4gIC8vIGhpZGUgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbiAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1wb3B1cC1kcm9wZG93bicpLmxlbmd0aCkge1xuICAgICQoJy5qcy1wb3B1cC1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdqcy1wb3B1cC1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLXBvcHVwLWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG59KTtcblxuLy8gcG9wdXAgaGFuZGxpbmdcbmxldCB0b3BPZmZzZXQgPSAwO1xuXG5jb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gIHRvcE9mZnNldCA9IHdpbmRvdy5zY3JvbGxZO1xuXG4gICQoJ2JvZHknKS5jc3Moe1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIG1hcmdpblRvcDogYCR7LXRvcE9mZnNldH1weGBcbiAgfSk7XG59O1xuXG5jb25zdCBzaG93T3ZlcmZsb3cgPSAoKSA9PiB7XG4gICQoJ2JvZHknKS5jc3Moe1xuICAgIHBvc2l0aW9uOiAnc3RhdGljJyxcbiAgICBtYXJnaW5Ub3A6ICcwJ1xuICB9KTtcblxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgdG9wT2Zmc2V0KTtcbn07XG5cbmNvbnN0IGNsb3NlUG9wdXAgPSAoZSwgJHRoaXMpID0+IHtcbiAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5wb3B1cF9fd2luZG93JykubGVuZ3RoIHx8ICEkdGhpcy5oYXNDbGFzcygnanMtcG9wdXAnKSkge1xuICAgIHNob3dPdmVyZmxvdygpO1xuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcuanMtcG9wdXAnKS5oaWRlKDApO1xuXHR9XG59O1xuXG5jb25zdCBvcGVuUG9wdXAgPSAkcG9wdXAgPT4ge1xuICBoaWRlT3ZlcmZsb3coKTtcblxuICAkKCcuanMtcG9wdXAnKS5oaWRlKDApO1xuICBcbiAgJHBvcHVwLmZhZGVJbigzMDApO1xufTtcblxuJCgnLmpzLW9wZW4tcG9wdXAnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoJ2RhdGEtcG9wdXAnKTtcbiAgY29uc3QgJHBvcHVwID0gJChgLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCIke3RhcmdldH1cIl1gKTtcbiAgb3BlblBvcHVwKCRwb3B1cCk7XG59KTtcblxuJCgnLmpzLWNsb3NlLXBvcHVwJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNsb3NlUG9wdXAoZSwgJChlLmN1cnJlbnRUYXJnZXQpKTtcbn0pO1xuXG4vLyBwb3B1cCBkcm9wZG93blxuJCgnLmpzLXBvcHVwLWRyb3Bkb3duLWl0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgaWYgKCEkdGhpcy5zaWJsaW5ncygnLmpzLXBvcHVwLWRyb3Bkb3duLWlubmVyJykubGVuZ3RoKSB7XG4gICAgJHRoaXMucGFyZW50KCkuc2libGluZ3MoJy5qcy1wb3B1cC1kcm9wZG93bi1pdGVtJykucHJlcGVuZFRvKCR0aGlzLnBhcmVudCgpKTtcbiAgICAkdGhpcy5wcmVwZW5kVG8oJHRoaXMuY2xvc2VzdCgnLmpzLXBvcHVwLWRyb3Bkb3duJykpO1xuICB9XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmpzLXBvcHVwLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2pzLXBvcHVwLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtcG9wdXAtZHJvcGRvd24taW5uZXInKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbi8vIHBvcHVwIGZvcm1zIGhhbmRsaW5nXG4kKCcuanMtZm9ybS13aXRoZHJhdycpLm9uKCdzdWJtaXQnLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgY29uc3QgJGFkZHJlc3MgPSAkdGhpcy5maW5kKCdpbnB1dFtuYW1lPVwiZXRoV2l0aGRyYXdhbFdhbGxldEFkZHJlc3NcIl0nKTtcbiAgY29uc3QgJGFtb3VudCA9ICR0aGlzLmZpbmQoJ2lucHV0W25hbWU9XCJldGhTdW1Ub1dpdGhkcmF3XCJdJyk7XG4gIGxldCBpc1ZhbGlkID0gdHJ1ZTtcblxuICBpZiAoJGFkZHJlc3MudmFsKCkubGVuZ3RoICE9PSAzNCkge1xuICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAkYWRkcmVzcy5jbG9zZXN0KCcuaW5wdXQnKS5hZGRDbGFzcygnaW5wdXQtLWVycm9yJyk7XG4gIH1cblxuICBpZiAoJGFtb3VudC52YWwoKSA8ICRhbW91bnQuYXR0cignZGF0YS1taW4nKSkge1xuICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAkYW1vdW50LmNsb3Nlc3QoJy5pbnB1dCcpLmFkZENsYXNzKCdpbnB1dC0tZXJyb3InKS5maW5kKCcuaW5wdXRfX2Vycm9yJykudGV4dChg0JzQuNC90LjQvNGD0LwgJHskYW1vdW50LmF0dHIoJ2RhdGEtbWluJyl9YCk7XG4gIH0gZWxzZSBpZiAoJGFtb3VudC52YWwoKSA+ICRhbW91bnQuYXR0cignZGF0YS1tYXgnKSkge1xuICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAkYW1vdW50LmNsb3Nlc3QoJy5pbnB1dCcpLmFkZENsYXNzKCdpbnB1dC0tZXJyb3InKS5maW5kKCcuaW5wdXRfX2Vycm9yJykudGV4dCgn0J3QtdC00L7RgdGC0LDRgtC+0YfQvdC+INGB0YDQtdC00YHRgtCyJyk7XG4gIH1cblxuICBpZiAoaXNWYWxpZCkge1xuICAgIC8vIHNlbmQgZm9ybVxuICB9XG59KTtcblxuJCgnLmpzLWZvcm0tdHJhbnNmZXInKS5vbignc3VibWl0JywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0ICRuYW1lID0gJHRoaXMuZmluZCgnaW5wdXRbbmFtZT1cInJlY2lwaWVudE5hbWVcIl0nKTtcbiAgY29uc3QgJGFtb3VudCA9ICR0aGlzLmZpbmQoJ2lucHV0W25hbWU9XCJ0cmFuc2ZlckFtb3VudFwiXScpO1xuICBsZXQgaXNWYWxpZCA9IHRydWU7XG5cbiAgaWYgKCRuYW1lLnZhbCgpLmxlbmd0aCAhPT0gMzQpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJG5hbWUuY2xvc2VzdCgnLmlucHV0JykuYWRkQ2xhc3MoJ2lucHV0LS1lcnJvcicpO1xuICB9XG5cbiAgaWYgKCRhbW91bnQudmFsKCkgPiAkYW1vdW50LmF0dHIoJ2RhdGEtbWF4JykpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJGFtb3VudC5jbG9zZXN0KCcuaW5wdXQnKS5hZGRDbGFzcygnaW5wdXQtLWVycm9yJykuZmluZCgnLmlucHV0X19lcnJvcicpLnRleHQoJ9Cd0LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsicpO1xuICB9XG5cbiAgaWYgKGlzVmFsaWQpIHtcbiAgICAvLyBzZW5kIGZvcm1cbiAgfVxufSk7XG5cbi8vIHJlZnJlc2ggc3RhdGlzdGljcyBoYW5kbGVyXG4kKCcuanMtcG9wdXAtcmVmcmVzaCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAkdGhpcy5hZGRDbGFzcygncG9wdXBfX3JlZnJlc2gtLWxvYWRpbmcnKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ3BvcHVwX19yZWZyZXNoLS1sb2FkaW5nJyk7XG4gIH0sIDEwMDApO1xufSk7XG5cbi8vIHVzZXIgYWN0aW9ucyBoYW5kbGVyc1xuJCgnLnBvcHVwX191c2VyLWFjdGlvbltkYXRhLWFjdGlvbj1cInRyYW5zZmVyXCJdJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0IG5hbWUgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCkuc2libGluZ3MoJy5wb3B1cF9fdXNlci1uYW1lJykudGV4dCgpO1xuXG4gICQoJ1tkYXRhLXBvcHVwPVwid2FsbGV0XCJdIC5qcy10YWI6bGFzdC1jaGlsZCcpLmNsaWNrKCk7XG4gICQoJ1tkYXRhLXBvcHVwPVwid2FsbGV0XCJdIGlucHV0W25hbWU9XCJyZWNpcGllbnROYW1lXCJdJykudmFsKG5hbWUpO1xufSk7XG5cbiQoJy5wb3B1cF9fdXNlci1hY3Rpb25bZGF0YS1hY3Rpb249XCJibGFja2xpc3RcIl0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCdwb3B1cF9fdXNlci1hY3Rpb24tLWFjdGl2ZScpO1xufSk7XG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS50YXJnZXQpO1xuXG4gIC8vIGhpZGUgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbiAgaWYoISR0aGlzLmhhc0NsYXNzKCdqcy10ZWwtZHJvcGRvd24nKSAmJiAhJHRoaXMuaGFzQ2xhc3MoJ2lucHV0X19maWVsZCcpKSB7XG4gICAgJCgnLmpzLXRlbC1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdqcy10ZWwtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy10ZWwtZHJvcGRvd24taW5uZXInKS5zbGlkZVVwKDMwMCk7XG4gIH1cbn0pO1xuXG4vLyBjb3B5IHRvIGNsaXBib2FyZFxuJCgnLmpzLWlucHV0LWNvcHknKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBpbnB1dCA9IGUuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gIGNvbnN0IHR5cGUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcbiAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgXG4gIGlucHV0LnNlbGVjdCgpO1xuICBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSgwLCA5OTk5OSk7XG4gIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xufSk7XG5cbi8vIHJlbW92ZSBlcnJvciB0ZXh0XG4kKCcuaW5wdXQnKS5vbignaW5wdXQnLCBlID0+IHtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5pbnB1dCcpLnJlbW92ZUNsYXNzKCdpbnB1dC0tZXJyb3InKTtcbn0pO1xuXG4vLyBzZXQgbWF4IHRvIHN1bSBpbnB1dFxuJCgnLmpzLWlucHV0LW1heCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAkdGhpcy5zaWJsaW5ncygnLmlucHV0X19maWVsZCcpLnZhbCgkdGhpcy5zaWJsaW5ncygnLmlucHV0X19maWVsZCcpLmF0dHIoJ2RhdGEtbWF4JykpO1xuICAkdGhpcy5jbG9zZXN0KCcuaW5wdXQnKS5yZW1vdmVDbGFzcygnaW5wdXQtLWVycm9yJyk7XG59KTtcblxuLy8gdGVsIGRyb3Bkb3duXG4kKCcuanMtdGVsLWRyb3Bkb3duJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCdqcy10ZWwtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy10ZWwtZHJvcGRvd24taW5uZXInKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbiQoJy5qcy10ZWwtZHJvcGRvd24taXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgY29uc3QgaWNvbiA9ICR0aGlzLmF0dHIoJ2RhdGEtaWNvbicpO1xuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy10ZWwtZHJvcGRvd24nKS5hdHRyKCdkYXRhLWljb24nLCBpY29uKTtcbiAgJHRoaXMuY2xvc2VzdCgnLmlucHV0JykuZmluZCgnaW5wdXQnKS5hdHRyKCdwbGFjZWhvbGRlcicsICR0aGlzLmF0dHIoJ2RhdGEtbWFzaycpLnJlcGxhY2VBbGwoJzknLCAnXycpKS5pbnB1dG1hc2soJHRoaXMuYXR0cignZGF0YS1tYXNrJykpO1xufSk7XG5cbi8vIG1hc2tpbmdcbiQoJ2lucHV0W3R5cGU9XCJ0ZWxcIl0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAkKGVsKS5pbnB1dG1hc2soJChlbCkuYXR0cignZGF0YS1tYXNrJykpO1xufSk7XG5cbi8vIHRvZ2dsZSB2aXNpYmlsaXR5XG4kKCcuanMtaW5wdXQtdG9nZ2xlJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgJGlucHV0RmllbGQgPSAkKGUuY3VycmVudFRhcmdldCkuc2libGluZ3MoJ2lucHV0Jyk7XG5cbiAgJGlucHV0RmllbGQuYXR0cigndHlwZScsICRpbnB1dEZpZWxkLmF0dHIoJ3R5cGUnKSA9PT0gJ3Bhc3N3b3JkJyA/ICd0ZXh0JyA6ICdwYXNzd29yZCcpO1xufSk7XG5cbi8vIGZpbGVzIGhhbmRsaW5nXG4kKCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpLm9uKCdjaGFuZ2UnLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IGZpbGVOYW1lID0gJHRoaXMucHJvcCgnZmlsZXMnKVswXS5uYW1lO1xuXG4gICR0aGlzLnNpYmxpbmdzKCcuaW5wdXRfX2ZpbGUnKS5hZGRDbGFzcygnaW5wdXRfX2ZpbGUtLXVwbG9hZGVkJykudGV4dChmaWxlTmFtZSk7XG59KTtcbiAgJCgnLmNvZGVfX2lucHV0Jykub24oJ2tleXVwJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCBpbnB1dFZhbCA9ICR0aGlzLnZhbCgpO1xuICBjb25zdCBrZXkgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTtcbiAgbGV0IGNvZGVJc05vdEVudGVyZWQgPSBmYWxzZTtcblxuICAkdGhpcy52YWwoaW5wdXRWYWwucmVwbGFjZSgvW14wLTldL2csICcnKSk7XG5cbiAgaWYgKCEvW14wLTldL2cudGVzdChpbnB1dFZhbCkgJiYga2V5ICE9IDggJiYga2V5ICE9IDQ2KSB7XG4gICAgJHRoaXMubmV4dCgpLmZvY3VzKCk7XG4gIH0gZWxzZSBpZiAoKGtleSA9PSA4IHx8IGtleSA9PSA0NikgJiYgaW5wdXRWYWwgPT09ICcnKSB7XG4gICAgJHRoaXMucHJldigpLmZvY3VzKCk7XG4gIH1cblxuICAkdGhpcy5wYXJlbnQoKS5maW5kKCdpbnB1dCcpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgaWYgKGVsLnZhbHVlID09PSAnJykge1xuICAgICAgY29kZUlzTm90RW50ZXJlZCA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICBpZiAoIWNvZGVJc05vdEVudGVyZWQpIHtcbiAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnY29kZS0tZW50ZXJlZCcpO1xuICAgICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5qcy1jb2RlLXRpdGxlJykuaGlkZSgpO1xuICAgICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5qcy1jb2RlLXJlc3VsdCcpLnNob3coKTtcbiAgICAkdGhpcy5ibHVyKCk7XG4gIH1cbn0pO1xuICAvLyBjb3VudCBzeW1ib2xzIHJlbWFpbnNcbmNvbnN0IGNvdW50U3ltYm9scyA9ICgpID0+IHtcbiAgY29uc3QgaW5wdXRMZW5ndGggPSAxNjAgLSAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpLmxlbmd0aDtcblxuICAkKCcuanMtY2hhdC1jb3VudGVyJykudGV4dChpbnB1dExlbmd0aCk7XG5cbiAgaWYgKDE2MCAtICQoJy5qcy1jaGF0LWlucHV0JykudmFsKCkubGVuZ3RoIDwgMCkge1xuICAgICQoJy5jaGF0X19mb290ZXItaW5wdXQtY291bnRlcicpLmFkZENsYXNzKCdjaGF0X19mb290ZXItaW5wdXQtY291bnRlci0tZXJyb3InKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcuY2hhdF9fZm9vdGVyLWlucHV0LWNvdW50ZXInKS5yZW1vdmVDbGFzcygnY2hhdF9fZm9vdGVyLWlucHV0LWNvdW50ZXItLWVycm9yJyk7XG4gIH1cbn07XG5cbi8vIHByb2dyYW1hdGljYWxseSBlbnRlciBzeW1ib2wgdG8gaW5wdXRcbmNvbnN0IGVudGVyU3ltYm9sID0gc3ltYm9sID0+IHtcbiAgY29uc3QgY3VycmVudElucHV0VGV4dCA9ICQoJy5qcy1jaGF0LWlucHV0JykudmFsKCk7XG4gIGxldCBjb21tYW5kU3RyaW5nID0gJyc7XG5cbiAgaWYgKC9cXHMkLy50ZXN0KCQoJy5qcy1jaGF0LWlucHV0JykudmFsKCkpIHx8IGN1cnJlbnRJbnB1dFRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgY29tbWFuZFN0cmluZyA9IHN5bWJvbDtcbiAgfSBlbHNlIHtcbiAgICBjb21tYW5kU3RyaW5nID0gJyAnICsgc3ltYm9sO1xuICB9XG4gIFxuICAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbChjdXJyZW50SW5wdXRUZXh0ICsgY29tbWFuZFN0cmluZykuZm9jdXMoKTtcblxuICBjb3VudFN5bWJvbHMoKTtcbn07XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS50YXJnZXQpO1xuXG4gIC8vIGhpZGUgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbiAgaWYoISR0aGlzLmNsb3Nlc3QoJy5qcy1jaGF0LWRyb3Bkb3duJykubGVuZ3RoKSB7XG4gICAgJCgnLmpzLWNoYXQtZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnanMtY2hhdC1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLWNoYXQtZHJvcGRvd24taW5uZXInKS5zbGlkZVVwKDMwMCk7XG4gIH1cbn0pO1xuXG4vLyBvcGVuIGNoYXQgd2luZG93XG4kKCcuanMtY2hhdC1vcGVuJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCcuanMtY2hhdCcpLnNsaWRlRG93bigzMDApO1xuICAkKCcuanMtY2hhdC1tZXNzYWdlcycpLnNjcm9sbFRvcCgkKCcuanMtY2hhdC1tZXNzYWdlcycpLnByb3AoJ3Njcm9sbEhlaWdodCcpLCAwKTtcbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS5mb2N1cygpO1xufSk7XG5cbi8vIGNsb3NlIGNoYXQgd2luZG93XG4kKCcuanMtY2hhdC1jbG9zZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmpzLWNoYXQnKS5zbGlkZVVwKDMwMCk7XG4gICQoJy5qcy1jaGF0LWlucHV0JykuYmx1cigpO1xufSk7XG5cbi8vIGNoYXQgZHJvcGRvd25cbiQoJy5qcy1jaGF0LWRyb3Bkb3duLWl0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgaWYgKCEkdGhpcy5zaWJsaW5ncygnLmpzLWNoYXQtZHJvcGRvd24taW5uZXInKS5sZW5ndGgpIHtcbiAgICAkdGhpcy5wYXJlbnQoKS5zaWJsaW5ncygnLmpzLWNoYXQtZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy1jaGF0LWRyb3Bkb3duJykpO1xuICB9XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmpzLWNoYXQtZHJvcGRvd24nKS50b2dnbGVDbGFzcygnanMtY2hhdC1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLWNoYXQtZHJvcGRvd24taW5uZXInKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbi8vIGNoYXQgaW5wdXQgc3ltYm9sIGNvdW50ZXJcbiQoJy5qcy1jaGF0LWlucHV0Jykub24oJ2lucHV0JywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCBjdXJyZW50SW5wdXRUZXh0ID0gJHRoaXMudmFsKCk7XG5cbiAgY291bnRTeW1ib2xzKCk7XG5cbiAgaWYgKC9AJC8udGVzdChjdXJyZW50SW5wdXRUZXh0KSkge1xuICAgICQoJy5qcy1jaGF0LW1lbnRpb25zJykuc2xpZGVEb3duKDMwMCk7XG4gICAgJCgnLmpzLWNoYXQtY29tbWFuZHMnKS5zbGlkZVVwKDMwMCk7XG4gIH0gZWxzZSBpZiAoL1xcLyQvLnRlc3QoY3VycmVudElucHV0VGV4dCkpIHtcbiAgICAkKCcuanMtY2hhdC1jb21tYW5kcycpLnNsaWRlRG93bigzMDApO1xuICAgICQoJy5qcy1jaGF0LW1lbnRpb25zJykuc2xpZGVVcCgzMDApO1xuICB9IGVsc2Uge1xuICAgICQoJy5qcy1jaGF0LW1lbnRpb25zJykuc2xpZGVVcCgzMDApO1xuICAgICQoJy5qcy1jaGF0LWNvbW1hbmRzJykuc2xpZGVVcCgzMDApO1xuICB9XG59KTtcblxuLy8gY2hhdCBzY3JvbGwgaGFuZGxlcnNcbiQoJy5qcy1jaGF0LW1lc3NhZ2VzJykub24oJ3Njcm9sbCcsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIGlmICgkdGhpcy5zY3JvbGxUb3AoKSArICR0aGlzLmlubmVySGVpZ2h0KCkgPj0gJHRoaXMucHJvcCgnc2Nyb2xsSGVpZ2h0JykgLSAxMCkge1xuICAgICAgJHRoaXMucGFyZW50KCkuYWRkQ2xhc3MoJ2NoYXRfX21lc3NhZ2VzLS1ib3R0b20nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRoaXMucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2NoYXRfX21lc3NhZ2VzLS1ib3R0b20nKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbiQoJy5qcy1jaGF0LXNjcm9sbCcpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoJy5qcy1jaGF0LW1lc3NhZ2VzJykucHJvcCgnc2Nyb2xsSGVpZ2h0Jyl9LCAzMDApO1xufSk7XG5cbi8vIGNoYXQgbWVudGlvbnMgaGFuZGxlcnNcbiQoJy5qcy1jaGF0LW1lbnRpb25pbmcnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGVudGVyU3ltYm9sKCdAJyk7XG4gICQoJy5qcy1jaGF0LW1lbnRpb25zJykuc2xpZGVEb3duKDMwMCk7XG59KTtcblxuJCgnLmpzLWNoYXQtbWVudGlvbicpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKSArICQoZS5jdXJyZW50VGFyZ2V0KS50ZXh0KCkgKyAnICcpO1xuICAkKCcuanMtY2hhdC1tZW50aW9ucycpLnNsaWRlVXAoMzAwKTtcblxuICBjb3VudFN5bWJvbHMoKTtcblxuICAkKCcuanMtY2hhdC1pbnB1dCcpLmZvY3VzKCk7XG59KTtcblxuLy8gY2hhdCBjb21tYW5kcyBoYW5kbGVyc1xuJCgnLmpzLWNoYXQtY29tbWFuZGluZycpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgZW50ZXJTeW1ib2woJy8nKTtcbiAgJCgnLmpzLWNoYXQtY29tbWFuZHMnKS5zbGlkZURvd24oMzAwKTtcbn0pO1xuXG4kKCcuanMtY2hhdC1jb21tYW5kJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpICsgJChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoJ2RhdGEtY29tbWFuZCcpICsgJyBAJyk7XG4gICQoJy5qcy1jaGF0LWNvbW1hbmRzJykuc2xpZGVVcCgzMDApO1xuICAkKCcuanMtY2hhdC1tZW50aW9ucycpLnNsaWRlRG93bigzMDApO1xuXG4gIGNvdW50U3ltYm9scygpO1xuXG4gICQoJy5qcy1jaGF0LWlucHV0JykuZm9jdXMoKTtcbn0pO1xuXG4vLyBzZW5kIG1lc3NhZ2UgaGFuZGxlclxuJCgnLmpzLWNoYXQtZm9ybScpLm9uKCdzdWJtaXQnLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBtb21lbnQubG9jYWxlKCdydScpO1xuXG4gIGlmICgxNjAgLSAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpLmxlbmd0aCA8IDApIHtcbiAgICAkKCcuanMtY2hhdC1pbnB1dCcpLmZvY3VzKCk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBsYXN0QmxvY2tEYXRlVGltZSA9ICQoJy5jaGF0X19tZXNzYWdlcy1ibG9jazpsYXN0LWNoaWxkJykuZmluZCgnLmNoYXRfX21lc3NhZ2VzLWRhdGUnKS50ZXh0KCk7XG4gIGNvbnN0IG5vd0RhdGVUaW1lID0gbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnZGRkZCBISDptbScpO1xuICBjb25zdCBtZXNzYWdlID0gYFxuICAgIDxwIGNsYXNzPVwiY2hhdF9fbWVzc2FnZXMtaXRlbVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjaGF0X19tZXNzYWdlcy1uYW1lXCI+dXNlcm5hbWU8L3NwYW4+OiAkeyQoJy5qcy1jaGF0LWlucHV0JykudmFsKCl9XG4gICAgPC9wPmAucmVwbGFjZSgvQChcXFMrKVxccy9nbSwgKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBgPGEgaHJlZj1cIi91c2VyLyR7Yn1cIiBjbGFzcz1cImNoYXRfX21lc3NhZ2VzLXVzZXJcIj5AJHtifTwvYT4gYDtcbiAgICB9KTtcblxuICBpZiAoJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKS5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCkge1xuICAgIGlmIChub3dEYXRlVGltZSA9PT0gbGFzdEJsb2NrRGF0ZVRpbWUpIHtcbiAgICAgICQoJy5qcy1jaGF0LW1lc3NhZ2VzIC5jaGF0X19tZXNzYWdlcy1ibG9jazpsYXN0LWNoaWxkJykuYXBwZW5kKG1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuanMtY2hhdC1tZXNzYWdlcycpLmFwcGVuZChgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGF0X19tZXNzYWdlcy1ibG9ja1wiPlxuICAgICAgICAgIDxwIGNsYXNzPVwiY2hhdF9fbWVzc2FnZXMtZGF0ZVwiPiR7bm93RGF0ZVRpbWV9PC9wPlxuICAgICAgICAgICR7bWVzc2FnZX1cbiAgICAgICAgPC9kaXY+YCk7XG4gICAgfVxuICAgIFxuICAgICQoJy5qcy1jaGF0LWlucHV0JykudmFsKCcnKS5mb2N1cygpO1xuICAgICQoJy5qcy1jaGF0LW1lc3NhZ2VzJykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKCcuanMtY2hhdC1tZXNzYWdlcycpLnByb3AoJ3Njcm9sbEhlaWdodCcpfSwgMzAwKTtcblxuICAgIGNvdW50U3ltYm9scygpO1xuICB9XG5cbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS5mb2N1cygpO1xufSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLnRhcmdldCk7XG5cbiAgLy8gaGlkZSBtZW51IG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkdGhpcy5jbG9zZXN0KCcuanMtbWVudScpLmxlbmd0aCAmJiAhJHRoaXMuaGFzQ2xhc3MoJ2pzLWJ1cmdlcicpICYmICEkdGhpcy5jbG9zZXN0KCcuanMtYnVyZ2VyJykubGVuZ3RoKSB7XG4gICAgJCgnLmpzLW1lbnUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tZW51LS1hY3RpdmUnKTtcbiAgfVxuICBcbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJHRoaXMuY2xvc2VzdCgnLmpzLWhlYWRlci1kcm9wZG93bicpLmxlbmd0aCkge1xuICAgICQoJy5qcy1oZWFkZXItZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnanMtaGVhZGVyLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtaGVhZGVyLWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG4gIFxuICAvLyBoaWRlIGNvbnRleHQgbWVudSBvbiBvdXRlciBjbGlja1xuICBpZighJHRoaXMuY2xvc2VzdCgnLmhlYWRlcl9fY29udGV4dCcpLmxlbmd0aCB8fCAkdGhpcy5oYXNDbGFzcygnanMtb3Blbi1wb3B1cCcpIHx8ICR0aGlzLmhhc0NsYXNzKCdqcy1jaGF0LW9wZW4nKSkge1xuICAgICQoJy5qcy1oZWFkZXItY29udGV4dC1tZW51JykuZmFkZU91dCgzMDApO1xuICB9XG59KTtcblxuLy8gaGVhZGVyIG1lbnVcbiQoJy5qcy1idXJnZXInKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5qcy1tZW51JykudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fbWVudS0tYWN0aXZlJyk7XG5cbiAgaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPCAxMTk5KSB7XG4gICAgaGlkZU92ZXJmbG93KCk7XG4gIH1cbn0pO1xuXG4kKCcuanMtbWVudS1jbG9zZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmpzLW1lbnUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tZW51LS1hY3RpdmUnKTtcblxuICBpZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8IDExOTkpIHtcbiAgICBzaG93T3ZlcmZsb3coKTtcbiAgfVxufSk7XG5cbi8vIGhlYWRlciBkcm9wZG93blxuaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW5jeVNob3cnKSkge1xuICBjb25zdCAkY3VycmVudEN1cnJlbmN5ID0gJChgLmpzLWhlYWRlci1kcm9wZG93bi1pdGVtW2RhdGEtY3VycmVuY3k9XCIke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW5jeVNob3cnKX1cIl1gKTtcblxuICAkY3VycmVudEN1cnJlbmN5LnBhcmVudCgpLnNpYmxpbmdzKCcuanMtaGVhZGVyLWRyb3Bkb3duLWl0ZW0nKS5wcmVwZW5kVG8oJGN1cnJlbnRDdXJyZW5jeS5wYXJlbnQoKSk7XG4gICRjdXJyZW50Q3VycmVuY3kucHJlcGVuZFRvKCRjdXJyZW50Q3VycmVuY3kuY2xvc2VzdCgnLmpzLWhlYWRlci1kcm9wZG93bicpKTtcbn1cblxuJCgnLmpzLWhlYWRlci1kcm9wZG93bi1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy1oZWFkZXItZHJvcGRvd24taW5uZXInKS5sZW5ndGgpIHtcbiAgICAkdGhpcy5wYXJlbnQoKS5zaWJsaW5ncygnLmpzLWhlYWRlci1kcm9wZG93bi1pdGVtJykucHJlcGVuZFRvKCR0aGlzLnBhcmVudCgpKTtcbiAgICAkdGhpcy5wcmVwZW5kVG8oJHRoaXMuY2xvc2VzdCgnLmpzLWhlYWRlci1kcm9wZG93bicpKTtcbiAgfVxuXG4gIGlmICgkdGhpcy5hdHRyKCdkYXRhLWN1cnJlbmN5JykpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVuY3lTaG93JywgJHRoaXMuYXR0cignZGF0YS1jdXJyZW5jeScpKTtcbiAgfVxuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy1oZWFkZXItZHJvcGRvd24nKS50b2dnbGVDbGFzcygnanMtaGVhZGVyLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtaGVhZGVyLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG4vLyBjb250ZXh0IG1lbnVcbiQoJy5qcy1oZWFkZXItY29udGV4dCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAkKCcuanMtaGVhZGVyLWNvbnRleHQtbWVudScpLm5vdCgkdGhpcy5zaWJsaW5ncygpKS5mYWRlT3V0KDMwMCk7XG4gICR0aGlzLnNpYmxpbmdzKCcuanMtaGVhZGVyLWNvbnRleHQtbWVudScpLmZhZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG4vLyBjcnlwdG8gc3dpdGNoXG5jb25zdCBzZXRDcnlwdG9DYXNoVmlldyA9IHR5cGUgPT4ge1xuICBpZiAodHlwZSA9PT0gJ2Nhc2gnKSB7XG4gICAgJCgnLmhlYWRlcl9fY3J5cHRvIC5qcy1oZWFkZXItZHJvcGRvd24taXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAkKGVsKS5odG1sKGA8c3Bhbj4kPC9zcGFuPiR7JChlbCkuYXR0cignZGF0YS1jYXNoJyl9YCk7XG4gICAgfSk7XG5cbiAgICAkKCcuanMtaGVhZGVyLXN3aXRjaCcpLmF0dHIoJ2RhdGEtdHlwZScsICdjYXNoJyk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NyeXB0bycpIHtcbiAgICAkKCcuaGVhZGVyX19jcnlwdG8gLmpzLWhlYWRlci1kcm9wZG93bi1pdGVtJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICQoZWwpLmh0bWwoJChlbCkuYXR0cignZGF0YS1jcnlwdG8nKSk7XG4gICAgfSk7XG5cbiAgICAkKCcuanMtaGVhZGVyLXN3aXRjaCcpLmF0dHIoJ2RhdGEtdHlwZScsICdjcnlwdG8nKTtcbiAgfVxufTtcblxuaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcnlwdG9DYXNoVmlldycpID09PSAnY2FzaCcpIHtcbiAgc2V0Q3J5cHRvQ2FzaFZpZXcoJ2Nhc2gnKTtcbn0gZWxzZSB7XG4gIHNldENyeXB0b0Nhc2hWaWV3KCdjcnlwdG8nKTtcbn1cblxuJCgnLmpzLWhlYWRlci1zd2l0Y2gnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgaWYgKCR0aGlzLmF0dHIoJ2RhdGEtdHlwZScpID09PSAnY3J5cHRvJykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjcnlwdG9DYXNoVmlldycsICdjYXNoJyk7XG5cbiAgICBzZXRDcnlwdG9DYXNoVmlldygnY2FzaCcpO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjcnlwdG9DYXNoVmlldycsICdjcnlwdG8nKTtcblxuICAgIHNldENyeXB0b0Nhc2hWaWV3KCdjcnlwdG8nKTtcbiAgfVxufSk7XG4gICQoJy5qcy1zbGlkZXInKS5zbGljayh7XG4gIHZhcmlhYmxlV2lkdGg6IHRydWUsXG4gIGNlbnRlck1vZGU6IHRydWUsXG4gIHN3aXBlOiBmYWxzZSxcbiAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cInNsaWRlcl9fY2Fyb3VzZWwtYXJyb3cgc2xpZGVyX19jYXJvdXNlbC1hcnJvdy0tcHJldlwiPjwvZGl2PicsXG4gIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGlkZXJfX2Nhcm91c2VsLWFycm93IHNsaWRlcl9fY2Fyb3VzZWwtYXJyb3ctLW5leHRcIj48L2Rpdj4nLFxuICByZXNwb25zaXZlOiBbe1xuICAgIGJyZWFrcG9pbnQ6IDExOTksXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBzd2lwZTogdHJ1ZSxcbiAgICAgIHN3aXBlVG9TbGlkZTogdHJ1ZVxuICAgIH1cbiAgfV1cbn0pO1xuICAkKCcuanMtZ2FtZXMtc2xpZGVyJykuc2xpY2soe1xuICBpbmZpbml0ZTogdHJ1ZSxcbiAgc3dpcGU6IGZhbHNlLFxuICBzbGlkZXNUb1Nob3c6IDYsXG4gIHZhcmlhYmxlV2lkdGg6IHRydWUsXG4gIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJnYW1lc19fc2xpZGVyLWFycm93IGdhbWVzX19zbGlkZXItYXJyb3ctLXByZXZcIj48L2Rpdj4nLFxuICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwiZ2FtZXNfX3NsaWRlci1hcnJvdyBnYW1lc19fc2xpZGVyLWFycm93LS1uZXh0XCI+PC9kaXY+JyxcbiAgcmVzcG9uc2l2ZTogW3tcbiAgICBicmVha3BvaW50OiAxMTk5LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBzd2lwZTogdHJ1ZSxcbiAgICAgIHN3aXBlVG9TbGlkZTogdHJ1ZSxcbiAgICAgIHNsaWRlc1RvU2hvdzogM1xuICAgIH1cbiAgfV1cbn0pO1xuICAvLyBncm91cCBmaWx0ZXJcbiQoJy5qcy1ncm91cC1maWx0ZXInKS5vbignY2xpY2snLCBlID0+IHtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCdncm91cF9fZmlsdGVyLS1hY3RpdmUnKTtcbn0pO1xuICAkKCcubGV2ZWxzX19pdGVtLWhlYWQnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgJCgnLmxldmVsc19faXRlbS1kZXNjJykuc2xpZGVVcCgzMDApO1xuXG4gIGlmICgkdGhpcy5oYXNDbGFzcygnbGV2ZWxzX19pdGVtLWhlYWQtLWFjdGl2ZScpKSB7XG4gICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2xldmVsc19faXRlbS1oZWFkLS1hY3RpdmUnKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcubGV2ZWxzX19pdGVtLWhlYWQtLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdsZXZlbHNfX2l0ZW0taGVhZC0tYWN0aXZlJyk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ2xldmVsc19faXRlbS1oZWFkLS1hY3RpdmUnKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5maW5kKCcubGV2ZWxzX19pdGVtLWRlc2MnKS5zbGlkZURvd24oMzAwKTtcbiAgfVxufSk7XG4gICQoJy5qcy12aXAtc2xpZGVyJykuc2xpY2soe1xuICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxuICB2YXJpYWJsZUhlaWdodDogdHJ1ZSxcbiAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgc3dpcGU6IGZhbHNlLFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwidmlwX19mZWVkYmFjay1hcnJvdyB2aXBfX2ZlZWRiYWNrLWFycm93LS1wcmV2XCI+PC9kaXY+JyxcbiAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cInZpcF9fZmVlZGJhY2stYXJyb3cgdmlwX19mZWVkYmFjay1hcnJvdy0tbmV4dFwiPjwvZGl2PicsXG4gIHJlc3BvbnNpdmU6IFt7XG4gICAgYnJlYWtwb2ludDogMTE5OSxcbiAgICBzZXR0aW5nczoge1xuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIHN3aXBlOiB0cnVlLFxuICAgICAgc3dpcGVUb1NsaWRlOiB0cnVlXG4gICAgfVxuICB9XVxufSk7XG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS50YXJnZXQpO1xuXG4gIGlmKCEkdGhpcy5jbG9zZXN0KCcuanMtc2V0dGluZ3MtZmlsdGVyJykubGVuZ3RoKSB7XG4gICAgJCgnLmpzLXNldHRpbmdzLWZpbHRlcicpLnJlbW92ZUNsYXNzKCdqcy1zZXR0aW5ncy1maWx0ZXItLWFjdGl2ZScpLmZpbmQoJy5qcy1zZXR0aW5ncy1maWx0ZXItaW5uZXInKS5zbGlkZVVwKDMwMCk7XG4gIH1cblxuICAvLyBoaWRlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanMtc2V0dGluZ3MtZHJvcGRvd24nKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtc2V0dGluZ3MtZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnanMtc2V0dGluZ3MtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy1zZXR0aW5ncy1kcm9wZG93bi1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxufSk7XG5cbi8vIHNldHRpbmdzIGZpbHRlciBkcm9wZG93blxuJCgnLmpzLXNldHRpbmdzLWZpbHRlci1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICgkdGhpcy5wYXJlbnQoKS5oYXNDbGFzcygnanMtc2V0dGluZ3MtZmlsdGVyJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtc2V0dGluZ3MtZmlsdGVyJykudG9nZ2xlQ2xhc3MoJ2pzLXNldHRpbmdzLWZpbHRlci0tYWN0aXZlJykuZmluZCgnLmpzLXNldHRpbmdzLWZpbHRlci1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcblxuLy8gc2V0dGluZ3MgZHJvcGRvd25cbiQoJy5qcy1zZXR0aW5ncy1kcm9wZG93bi1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy1zZXR0aW5ncy1kcm9wZG93bi1pbm5lcicpLmxlbmd0aCkge1xuICAgICR0aGlzLnBhcmVudCgpLnNpYmxpbmdzKCcuanMtc2V0dGluZ3MtZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy1zZXR0aW5ncy1kcm9wZG93bicpKTtcbiAgfVxuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy1zZXR0aW5ncy1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdqcy1zZXR0aW5ncy1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLXNldHRpbmdzLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLXBsYXllci1kcm9wZG93bicpLmxlbmd0aCkge1xuICAgICQoJy5qcy1wbGF5ZXItZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnanMtcGxheWVyLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtcGxheWVyLWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG5cbiAgLy8gaGlkZSB0YWdzIGJ1YmJsZSBvbiBvdXRlciBjbGlja1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLXBsYXllci1idWJibGUnKS5sZW5ndGggJiYgISQoZS50YXJnZXQpLmNsb3Nlc3QoJ1tkYXRhLWNvbnRyb2w9XCJpbmZvXCJdJykubGVuZ3RoKSB7XG4gICAgJCgnLmpzLXBsYXllci1idWJibGUnKS5mYWRlT3V0KDMwMCk7XG4gIH1cbn0pO1xuXG4vLyBwbGF5ZXIgYWJvdXQgc2NyaXB0c1xuJCgnLnBsYXllcl9fYWJvdXQtaGVhZCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAkdGhpcy50b2dnbGVDbGFzcygncGxheWVyX19hYm91dC1oZWFkLS1hY3RpdmUnKTtcbiAgJHRoaXMucGFyZW50KCkuZmluZCgnLnBsYXllcl9fYWJvdXQtY29udGVudCcpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcblxuLy8gc3dpdGNoXG4kKCcuanMtZ2FtZS1zd2l0Y2gnKS5vbignY2xpY2snLCBlID0+IHtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLmZpbmQoJy5wbGF5ZXJfX2dhbWUtc3dpdGNoLWlucHV0JykudG9nZ2xlQ2xhc3MoJ3BsYXllcl9fZ2FtZS1zd2l0Y2gtaW5wdXQtLWFjdGl2ZScpO1xufSk7XG5cbi8vIGZ1bGxzY3JlZW4gaGFuZGxlclxuJCgnW2RhdGEtY29udHJvbD1cImZ1bGxzY3JlZW5cIl0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCByZXF1ZXN0TWV0aG9kID0gYm9keS5yZXF1ZXN0RnVsbFNjcmVlbiB8fCBib2R5LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8IGJvZHkubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgYm9keS5tc1JlcXVlc3RGdWxsU2NyZWVuO1xuXG4gIGlmIChyZXF1ZXN0TWV0aG9kKSB7XG4gICAgcmVxdWVzdE1ldGhvZC5jYWxsKGJvZHkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuQWN0aXZlWE9iamVjdCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IHdzY3JpcHQgPSBuZXcgQWN0aXZlWE9iamVjdChcIldTY3JpcHQuU2hlbGxcIik7XG5cbiAgICBpZiAod3NjcmlwdCAhPT0gbnVsbCkge1xuICAgICAgd3NjcmlwdC5TZW5kS2V5cyhcIntGMTF9XCIpO1xuICAgIH1cbiAgfVxuXG4gICQoJy5qcy1wbGF5ZXItZnJhbWUnKS5hZGRDbGFzcygncGxheWVyX19nYW1lLWZyYW1lLS1mdWxsc2NyZWVuJyk7XG4gICQoJy5wbGF5ZXJfX2dhbWUtaW5uZXInKS5hZGRDbGFzcygncGxheWVyX19nYW1lLWlubmVyLS1mdWxsc2NyZWVuJyk7XG59KTtcblxuJChkb2N1bWVudCkub24oJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UgbW96ZnVsbHNjcmVlbmNoYW5nZSBmdWxsc2NyZWVuY2hhbmdlJywgKCkgPT4ge1xuICBpZiAoIWRvY3VtZW50LmZ1bGxTY3JlZW4gJiYgIWRvY3VtZW50Lm1vekZ1bGxTY3JlZW4gJiYgIWRvY3VtZW50LndlYmtpdElzRnVsbFNjcmVlbikge1xuICAgICQoJy5qcy1wbGF5ZXItZnJhbWUnKS5yZW1vdmVDbGFzcygncGxheWVyX19nYW1lLWZyYW1lLS1mdWxsc2NyZWVuJyk7XG4gICAgJCgnLnBsYXllcl9fZ2FtZS1pbm5lcicpLnJlbW92ZUNsYXNzKCdwbGF5ZXJfX2dhbWUtaW5uZXItLWZ1bGxzY3JlZW4nKTtcbiAgfVxufSk7XG5cbi8vIGZhdm9yaXRlIGhhbmRsZXJcbiQoJ1tkYXRhLWNvbnRyb2w9XCJmYXZvcml0ZVwiXScpLm9uKCdjbGljaycsIGUgPT4ge1xuICAkKGUuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ3BsYXllcl9fZ2FtZS1jb250cm9sLS1hY3RpdmUnKTtcbn0pO1xuXG4vLyB0YWdzIGJ1YmJsZSBoYW5kbGVyXG4kKCdbZGF0YS1jb250cm9sPVwiaW5mb1wiXScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmpzLXBsYXllci1idWJibGUnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpLmhpZGUoMCkuZmFkZUluKDMwMCk7XG59KTtcblxuJCgnLmpzLXBsYXllci1idWJibGUtY2xvc2UnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5qcy1wbGF5ZXItYnViYmxlJykuZmFkZU91dCgzMDApO1xufSk7XG5cbi8vIG92ZXJsYXkgaGlkZSBoYW5kbGVyc1xuJCgnLmpzLXBsYXktcmVhbCcpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLnBsYXllcl9fZ2FtZS1zd2l0Y2gtaW5wdXQnKS5hZGRDbGFzcygncGxheWVyX19nYW1lLXN3aXRjaC1pbnB1dC0tYWN0aXZlJyk7XG4gICQoJy5wbGF5ZXJfX2dhbWUtb3ZlcmxheScpLmZhZGVPdXQoMzAwKTtcbiAgJCgnLnBsYXllcl9fZ2FtZS1tZW51JykucmVtb3ZlQ2xhc3MoJ3BsYXllcl9fZ2FtZS1tZW51LS1kaXNhYmxlZCcpO1xufSk7XG5cbiQoJy5qcy1wbGF5LWVudGVydGFpbicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLnBsYXllcl9fZ2FtZS1zd2l0Y2gtaW5wdXQnKS5yZW1vdmVDbGFzcygncGxheWVyX19nYW1lLXN3aXRjaC1pbnB1dC0tYWN0aXZlJyk7XG4gICQoJy5wbGF5ZXJfX2dhbWUtb3ZlcmxheScpLmZhZGVPdXQoMzAwKTtcbiAgJCgnLnBsYXllcl9fZ2FtZS1tZW51JykucmVtb3ZlQ2xhc3MoJ3BsYXllcl9fZ2FtZS1tZW51LS1kaXNhYmxlZCcpO1xufSk7XG5cbi8vIHBsYXllciBkcm9wZG93blxuJCgnLmpzLXBsYXllci1kcm9wZG93bi1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy1wbGF5ZXItZHJvcGRvd24taW5uZXInKS5sZW5ndGgpIHtcbiAgICAkdGhpcy5wYXJlbnQoKS5zaWJsaW5ncygnLmpzLXBsYXllci1kcm9wZG93bi1pdGVtJykucHJlcGVuZFRvKCR0aGlzLnBhcmVudCgpKTtcbiAgICAkdGhpcy5wcmVwZW5kVG8oJHRoaXMuY2xvc2VzdCgnLmpzLXBsYXllci1kcm9wZG93bicpKTtcbiAgfVxuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy1wbGF5ZXItZHJvcGRvd24nKS50b2dnbGVDbGFzcygnanMtcGxheWVyLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtcGxheWVyLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuICAvLyBzZWFyY2ggaGFuZGxlclxuJCgnLmpzLXNlYXJjaC1pbnB1dCBpbnB1dCcpLm9uKCdpbnB1dCcsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICBpZiAoJHRoaXMudmFsKCkubGVuZ3RoID49IDMpIHtcbiAgICAkKCcuanMtc2VhcmNoLXRleHQnKS5oaWRlKDApO1xuICAgICQoJy5qcy1zZWFyY2gtb3V0cHV0JykuZmFkZUluKDMwMCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmpzLXNlYXJjaC1vdXRwdXQnKS5oaWRlKDApO1xuICAgICQoJy5qcy1zZWFyY2gtdGV4dCcpLmZhZGVJbigzMDApO1xuICB9XG59KTtcblxuJCgnLmpzLXNlYXJjaC1yZWNvbW1lbmQnKS5vbignY2xpY2snLCBlID0+IHtcbiAgJCgnLmpzLXNlYXJjaC1pbnB1dCBpbnB1dCcpLnZhbChlLmN1cnJlbnRUYXJnZXQuaW5uZXJUZXh0KTtcbiAgJCgnLmpzLXNlYXJjaC1pbnB1dCBpbnB1dCcpLnRyaWdnZXIoJ2lucHV0Jyk7XG59KTtcblxufSJdfQ==
