"use strict";window.onload=function(){$(document).on("click",(function(e){$(e.target).closest(".js-tabs-dropdown").length||$(".js-tabs-dropdown").removeClass("js-tabs-dropdown--active").find(".js-tabs-dropdown-inner").slideUp(300)})),$(".js-tab").on("click",(function(e){var t=$(e.currentTarget),n=t.attr("data-content"),s=t.closest(".js-tabs");s.find(".tabs__item--active").removeClass("tabs__item--active"),t.addClass("tabs__item--active"),s.find(".js-tabs-content").hide(0),s.find('.js-tabs-content[data-content="'.concat(n,'"]')).fadeIn(500)})),$("body").on("click",".js-tabs-dropdown-item",(function(e){var t=$(e.currentTarget);if(!t.siblings(".js-tabs-dropdown-inner").length){var n=t.parent();t.parent().siblings(".js-tabs-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-tabs-dropdown"));var s=Array.from(t.next().children()).sort((function(e,t){if(e.innerText<t.innerText)return-1}));t.next().children().remove(),n.append(s)}t.closest(".js-tabs-dropdown").toggleClass("js-tabs-dropdown--active").find(".js-tabs-dropdown-inner").slideToggle(300)})),$(document).on("click",(function(e){$(e.target).closest(".js-popup-dropdown").length||$(".js-popup-dropdown").removeClass("js-popup-dropdown--active").find(".js-popup-dropdown-inner").slideUp(300)}));var e=0,t=function(){e=window.scrollY,$("body").css({position:"fixed",marginTop:"".concat(-e,"px")})},n=function(){$("body").css({position:"static",marginTop:"0"}),window.scrollTo(0,e)};$(".js-open-popup").on("click",(function(e){var n=$(e.currentTarget).attr("data-popup");!function(e){t(),e.fadeIn(300)}($('.js-popup[data-popup="'.concat(n,'"]')))})),$(".js-close-popup").on("click",(function(e){!function(e,t){$(e.target).closest(".popup__window").length&&t.hasClass("js-popup")||(n(),t.closest(".js-popup").hide(0))}(e,$(e.currentTarget))})),$(".js-popup-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-popup-dropdown-inner").length||(t.parent().siblings(".js-popup-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-popup-dropdown"))),t.closest(".js-popup-dropdown").toggleClass("js-popup-dropdown--active").find(".js-popup-dropdown-inner").slideToggle(300)})),$(".js-form-withdraw").on("submit",(function(e){e.preventDefault();var t=$(e.currentTarget),n=t.find('input[name="ethWithdrawalWalletAddress"]'),s=t.find('input[name="ethSumToWithdraw"]');34!==n.val().length&&(!1,n.closest(".input").addClass("input--error")),s.val()<s.attr("data-min")?(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Минимум ".concat(s.attr("data-min")))):s.val()>s.attr("data-max")&&(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Недостаточно средств"))})),$(".js-form-transfer").on("submit",(function(e){e.preventDefault();var t=$(e.currentTarget),n=t.find('input[name="recipientName"]'),s=t.find('input[name="transferAmount"]');34!==n.val().length&&(!1,n.closest(".input").addClass("input--error")),s.val()>s.attr("data-max")&&(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Недостаточно средств"))})),$(document).on("click",(function(e){var t=$(e.target);t.hasClass("js-tel-dropdown")||t.hasClass("input__field")||$(".js-tel-dropdown").removeClass("js-tel-dropdown--active").find(".js-tel-dropdown-inner").slideUp(300)})),$(".js-input-copy").on("click",(function(e){e.preventDefault();var t=e.currentTarget.parentNode.querySelector("input"),n=t.getAttribute("type");t.setAttribute("type","text"),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),t.setAttribute("type",n)})),$(".input").on("input",(function(e){$(e.currentTarget).closest(".input").removeClass("input--error")})),$(".js-input-max").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".input__field").val(t.siblings(".input__field").attr("data-max")),t.closest(".input").removeClass("input--error")})),$(".js-tel-dropdown").on("click",(function(e){e.preventDefault(),$(e.currentTarget).toggleClass("js-tel-dropdown--active").find(".js-tel-dropdown-inner").slideToggle(300)})),$(".js-tel-dropdown-item").on("click",(function(e){var t=$(e.currentTarget),n=t.attr("data-icon");t.closest(".js-tel-dropdown").attr("data-icon",n),t.closest(".input").find("input").attr("placeholder",t.attr("data-mask").replaceAll("9","_")).inputmask(t.attr("data-mask"))})),$('input[type="tel"]').each((function(e,t){$(t).inputmask($(t).attr("data-mask"))})),$(".js-input-toggle").on("click",(function(e){e.preventDefault();var t=$(e.currentTarget).siblings("input");t.attr("type","password"===t.attr("type")?"text":"password")})),$(".code__input").on("keyup",(function(e){var t=$(e.currentTarget),n=t.val(),s=e.keyCode||e.charCode,a=!1;t.val(n.replace(/[^0-9]/g,"")),/[^0-9]/g.test(n)||8==s||46==s?8!=s&&46!=s||""!==n||t.prev().focus():t.next().focus(),t.parent().find("input").each((function(e,t){""===t.value&&(a=!0)})),a||(t.parent().addClass("code--entered"),t.parent().parent().find(".js-code-title").hide(),t.parent().parent().find(".js-code-result").show(),t.blur())}));var s=function(){var e=160-$(".js-chat-input").val().length;$(".js-chat-counter").text(e),160-$(".js-chat-input").val().length<0?$(".chat__footer-input-counter").addClass("chat__footer-input-counter--error"):$(".chat__footer-input-counter").removeClass("chat__footer-input-counter--error")},a=function(e){var t=$(".js-chat-input").val(),n="";n=/\s$/.test($(".js-chat-input").val())||0===t.length?e:" "+e,$(".js-chat-input").val(t+n).focus(),s()};if($(document).on("click",(function(e){$(e.target).closest(".js-chat-dropdown").length||$(".js-chat-dropdown").removeClass("js-chat-dropdown--active").find(".js-chat-dropdown-inner").slideUp(300)})),$(".js-chat-open").on("click",(function(){$(".js-chat").slideDown(300),$(".js-chat-messages").scrollTop($(".js-chat-messages").prop("scrollHeight"),0),$(".js-chat-input").focus()})),$(".js-chat-close").on("click",(function(){$(".js-chat").slideUp(300),$(".js-chat-input").blur()})),$(".js-chat-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-chat-dropdown-inner").length||(t.parent().siblings(".js-chat-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-chat-dropdown"))),t.closest(".js-chat-dropdown").toggleClass("js-chat-dropdown--active").find(".js-chat-dropdown-inner").slideToggle(300)})),$(".js-chat-input").on("input",(function(e){var t=$(e.currentTarget).val();s(),/@$/.test(t)?($(".js-chat-mentions").slideDown(300),$(".js-chat-commands").slideUp(300)):/\/$/.test(t)?($(".js-chat-commands").slideDown(300),$(".js-chat-mentions").slideUp(300)):($(".js-chat-mentions").slideUp(300),$(".js-chat-commands").slideUp(300))})),$(".js-chat-messages").on("scroll",(function(e){var t=$(e.currentTarget);requestAnimationFrame((function(){t.scrollTop()+t.innerHeight()>=t.prop("scrollHeight")-10?t.parent().addClass("chat__messages--bottom"):t.parent().removeClass("chat__messages--bottom")}))})),$(".js-chat-scroll").on("click",(function(){$(".js-chat-messages").animate({scrollTop:$(".js-chat-messages").prop("scrollHeight")},300)})),$(".js-chat-mentioning").on("click",(function(e){e.preventDefault(),a("@"),$(".js-chat-mentions").slideDown(300)})),$(".js-chat-mention").on("click",(function(e){e.preventDefault(),$(".js-chat-input").val($(".js-chat-input").val()+$(e.currentTarget).text()+" "),$(".js-chat-mentions").slideUp(300),s(),$(".js-chat-input").focus()})),$(".js-chat-commanding").on("click",(function(e){e.preventDefault(),a("/"),$(".js-chat-commands").slideDown(300)})),$(".js-chat-command").on("click",(function(e){e.preventDefault(),$(".js-chat-input").val($(".js-chat-input").val()+$(e.currentTarget).attr("data-command")+" @"),$(".js-chat-commands").slideUp(300),$(".js-chat-mentions").slideDown(300),s(),$(".js-chat-input").focus()})),$(".js-chat-form").on("submit",(function(e){if(e.preventDefault(),moment.locale("ru"),160-$(".js-chat-input").val().length<0)return $(".js-chat-input").focus(),!1;var t=$(".chat__messages-block:last-child").find(".chat__messages-date").text(),n=moment(new Date).format("dddd HH:mm"),a='\n    <p class="chat__messages-item">\n      <span class="chat__messages-name">username</span>: '.concat($(".js-chat-input").val(),"\n    </p>").replace(/@(\S+)\s/gm,(function(e,t){return'<a href="/user/'.concat(t,'" class="chat__messages-user">@').concat(t,"</a> ")}));$(".js-chat-input").val().replace(/\s/g,"").length&&(n===t?$(".js-chat-messages .chat__messages-block:last-child").append(a):$(".js-chat-messages").append('\n        <div class="chat__messages-block">\n          <p class="chat__messages-date">'.concat(n,"</p>\n          ").concat(a,"\n        </div>")),$(".js-chat-input").val("").focus(),$(".js-chat-messages").animate({scrollTop:$(".js-chat-messages").prop("scrollHeight")},300),s()),$(".js-chat-input").focus()})),$(document).on("click",(function(e){var t=$(e.target);t.closest(".js-menu").length||t.hasClass("js-burger")||t.closest(".js-burger").length||$(".js-menu").removeClass("header__menu--active"),t.closest(".js-header-dropdown").length||$(".js-header-dropdown").removeClass("js-header-dropdown--active").find(".js-header-dropdown-inner").slideUp(300),(!t.closest(".header__context").length||t.hasClass("js-open-popup")||t.hasClass("js-chat-open"))&&$(".js-header-context-menu").fadeOut(300)})),$(".js-burger").on("click",(function(){$(".js-menu").toggleClass("header__menu--active"),$(window).innerWidth()<1199&&t()})),$(".js-menu-close").on("click",(function(){$(".js-menu").removeClass("header__menu--active"),$(window).innerWidth()<1199&&n()})),localStorage.getItem("currencyShow")){var o=$('.js-header-dropdown-item[data-currency="'.concat(localStorage.getItem("currencyShow"),'"]'));o.parent().siblings(".js-header-dropdown-item").prependTo(o.parent()),o.prependTo(o.closest(".js-header-dropdown"))}$(".js-header-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-header-dropdown-inner").length||(t.parent().siblings(".js-header-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-header-dropdown"))),t.attr("data-currency")&&localStorage.setItem("currencyShow",t.attr("data-currency")),t.closest(".js-header-dropdown").toggleClass("js-header-dropdown--active").find(".js-header-dropdown-inner").slideToggle(300)})),$(".js-header-context").on("click",(function(e){var t=$(e.currentTarget);$(".js-header-context-menu").not(t.siblings()).fadeOut(300),t.siblings(".js-header-context-menu").fadeToggle(300)}));var r=function(e){"cash"===e?($(".header__crypto .js-header-dropdown-item").each((function(e,t){$(t).html("<span>$</span>".concat($(t).attr("data-cash")))})),$(".js-header-switch").attr("data-type","cash")):"crypto"===e&&($(".header__crypto .js-header-dropdown-item").each((function(e,t){$(t).html($(t).attr("data-crypto"))})),$(".js-header-switch").attr("data-type","crypto"))};"cash"===localStorage.getItem("cryptoCashView")?r("cash"):r("crypto"),$(".js-header-switch").on("click",(function(e){"crypto"===$(e.currentTarget).attr("data-type")?(localStorage.setItem("cryptoCashView","cash"),r("cash")):(localStorage.setItem("cryptoCashView","crypto"),r("crypto"))})),$(".js-slider").slick({variableWidth:!0,centerMode:!0,swipe:!1,prevArrow:'<div class="slider__carousel-arrow slider__carousel-arrow--prev"></div>',nextArrow:'<div class="slider__carousel-arrow slider__carousel-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,swipe:!0,swipeToSlide:!0}}]}),$(".js-games-slider").slick({infinite:!0,swipe:!1,slidesToShow:6,variableWidth:!0,prevArrow:'<div class="games__slider-arrow games__slider-arrow--prev"></div>',nextArrow:'<div class="games__slider-arrow games__slider-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{swipe:!0,swipeToSlide:!0,slidesToShow:3}}]}),$(document).on("click",(function(e){$(e.target).closest(".js-group-dropdown").length||$(".js-group-dropdown").removeClass("js-group-dropdown--active").find(".js-group-dropdown-inner").slideUp(300)})),$("body").on("click",".js-group-dropdown-item",(function(e){var t=$(e.currentTarget);if(!t.siblings(".js-group-dropdown-inner").length){var n=t.parent();t.parent().siblings(".js-group-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-group-dropdown"));var s=Array.from(t.next().children()).sort((function(e,t){if(e.innerText<t.innerText)return-1}));t.next().children().remove(),n.append(s)}t.closest(".js-group-dropdown").toggleClass("js-group-dropdown--active").find(".js-group-dropdown-inner").slideToggle(300)})),$(".levels__item-head").on("click",(function(e){var t=$(e.currentTarget);$(".levels__item-desc").slideUp(300),t.hasClass("levels__item-head--active")?t.removeClass("levels__item-head--active"):($(".levels__item-head--active").removeClass("levels__item-head--active"),t.addClass("levels__item-head--active"),t.parent().find(".levels__item-desc").slideDown(300))})),$(".js-vip-slider").slick({variableWidth:!0,variableHeight:!0,centerMode:!0,swipe:!1,prevArrow:'<div class="vip__feedback-arrow vip__feedback-arrow--prev"></div>',nextArrow:'<div class="vip__feedback-arrow vip__feedback-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,swipe:!0,swipeToSlide:!0}}]}),$(document).on("click",(function(e){$(e.target).closest(".js-settings-filter").length||$(".js-settings-filter").removeClass("js-settings-filter--active").find(".js-settings-filter-inner").slideUp(300)})),$(".js-settings-filter-item").on("click",(function(e){var t=$(e.currentTarget);t.parent().hasClass("js-settings-filter")&&e.preventDefault(),t.closest(".js-settings-filter").toggleClass("js-settings-filter--active").find(".js-settings-filter-inner").slideToggle(300)}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJvbiIsImUiLCIkIiwidGFyZ2V0IiwiY2xvc2VzdCIsImxlbmd0aCIsImZpbmQiLCJzbGlkZVVwIiwiJHRoaXMiLCJjdXJyZW50VGFyZ2V0IiwiYXR0ciIsIiR0YWJzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhpZGUiLCJjb25jYXQiLCJmYWRlSW4iLCJzaWJsaW5ncyIsIiR0YWJzRHJvcGRvd25Jbm5lciIsInByZXBlbmRUbyIsInBhcmVudCIsIiRzb3J0ZWRJdGVtcyIsIkFycmF5IiwiY2hpbGRyZW4iLCJzb3J0IiwiYSIsImlubmVyVGV4dCIsImZyb20iLCJuZXh0IiwiYiIsInJlbW92ZSIsImRvY3VtZW50IiwiYXBwZW5kIiwidG9wT2Zmc2V0IiwibWFyZ2luVG9wIiwiaGlkZU92ZXJmbG93Iiwic2Nyb2xsWSIsImNzcyIsInBvc2l0aW9uIiwic2hvd092ZXJmbG93IiwiY2xvc2VQb3B1cCIsInNjcm9sbFRvIiwiJHBvcHVwIiwiaGFzQ2xhc3MiLCIkYW1vdW50IiwiaXNWYWxpZCIsIiRhZGRyZXNzIiwic2xpZGVUb2dnbGUiLCJ2YWwiLCJ0ZXh0IiwiJG5hbWUiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0Iiwic2V0QXR0cmlidXRlIiwicGFyZW50Tm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0eXBlIiwiZ2V0QXR0cmlidXRlIiwic2VsZWN0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJpY29uIiwiJGlucHV0RmllbGQiLCJrZXlDb2RlIiwiY2hhckNvZGUiLCJpbnB1dFZhbCIsImtleSIsInByZXYiLCJmb2N1cyIsInJlcGxhY2VBbGwiLCJpbnB1dG1hc2siLCJlYWNoIiwiaSIsImVsIiwicmVwbGFjZSIsInRlc3QiLCJlbnRlclN5bWJvbCIsInZhbHVlIiwiY29tbWFuZFN0cmluZyIsInN5bWJvbCIsImNvZGVJc05vdEVudGVyZWQiLCJjdXJyZW50SW5wdXRUZXh0IiwiY291bnRTeW1ib2xzIiwic2hvdyIsImJsdXIiLCJpbnB1dExlbmd0aCIsIm5leHRBcnJvdyIsInNsaWRlRG93biIsInNjcm9sbFRvcCIsInByb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhbmltYXRlIiwidG9nZ2xlQ2xhc3MiLCJpbm5lckhlaWdodCIsIm1vbWVudCIsImxvY2FsZSIsImxhc3RCbG9ja0RhdGVUaW1lIiwibm93RGF0ZVRpbWUiLCJEYXRlIiwiZm9ybWF0IiwibWVzc2FnZSIsIiRjdXJyZW50Q3VycmVuY3kiLCJzZXRDcnlwdG9DYXNoVmlldyIsImxvY2FsU3RvcmFnZSIsImZhZGVPdXQiLCJpbm5lcldpZHRoIiwic2V0SXRlbSIsImdldEl0ZW0iLCJyZXNwb25zaXZlIiwic2V0dGluZ3MiLCJhcnJvd3MiLCJpbmZpbml0ZSIsInN3aXBlIiwicHJldkFycm93Iiwibm90IiwiZmFkZVRvZ2dsZSIsIiRncm91cERyb3Bkb3duSW5uZXIiLCJodG1sIiwic2xpY2siLCJ2YXJpYWJsZVdpZHRoIiwidmFyaWFibGVIZWlnaHQiLCJjZW50ZXJNb2RlIiwiYnJlYWtwb2ludCIsInNsaWRlc1RvU2hvdyIsInN3aXBlVG9TbGlkZSJdLCJtYXBwaW5ncyI6ImFBQUFBLE9BQU9DLE9BQVMsV0FBaEJELEVBQUFBLFVBQUFFLEdBQWdCLFNBQUEsU0FBQUMsR0FHZEMsRUFBQUQsRUFBQUUsUUFBQUMsUUFBQSxxQkFBQUMsUUFDQUgsRUFBQSxxQkFBZ0JFLFlBQVEsNEJBQTZCRSxLQUFBLDJCQUFBQyxRQUFBLFFBTXZETCxFQUFBQSxXQUFDRixHQUFZQSxTQUFiLFNBQUFDLEdBQ0UsSUFBTU8sRUFBUU4sRUFBRUQsRUFBRVEsZUFDWk4sRUFBU0ssRUFBTUUsS0FBSyxnQkFDcEJDLEVBQVFILEVBQU1KLFFBQVEsWUFHNUJJLEVBQUFBLEtBQU1JLHVCQUFTQyxZQUFmLHNCQUVBRixFQUFBQSxTQUFXLHNCQUVaQSxFQUVETCxLQUFBLG9CQUFBUSxLQUFBLEdBSEVILEVBQU1MLEtBQU4sa0NBQUFTLE9BQTZD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UyxTQUFBQyxHQUNwQyxJQUFNTyxFQUFRTixFQUFFRCxFQUFFUSxlQUVsQlAsRUFBRSxzQkFBc0JLLFFBQVEsS0FFNUJDLEVBQU1tQyxTQUFTLDZCQUNqQm5DLEVBQU1LLFlBQVksOEJBRWxCWCxFQUFFLDhCQUE4QlcsWUFBWSw2QkFDNUNMLEVBQU1JLFNBQVMsNkJBQ2ZKLEVBQU1ZLFNBQVNkLEtBQUssc0JBQXNCZ0YsVUFBVSxTQUd0RHBGLEVBQUUsa0JBQWtCbUgsTUFBTSxDQUMxQkMsZUFBZSxFQUNmQyxnQkFBZ0IsRUFDaEJDLFlBQVksRUFDWlQsT0FBTyxFQUNQQyxVQUFXLG9FQUNYM0IsVUFBVyxvRUFDWHNCLFdBQVksQ0FBQyxDQUNYYyxXQUFZLEtBQ1piLFNBQVUsQ0FDUkMsUUFBUSxFQUNSRSxPQUFPLEVBQ1BZLGNBQWMsT0FJbEJ6SCxFQUFFNkIsVUFBVS9CLEdBQUcsU0FBUyxTQUFBQyxHQUNWQyxFQUFFRCxFQUFFRSxRQUVSQyxRQUFRLHVCQUF1QkMsUUFDdkNILEVBQUUsdUJBQXVCVyxZQUFZLDhCQUE4QlAsS0FBSyw2QkFBNkJDLFFBQVEsUUFLakhMLEVBQUUsNEJBQTRCRixHQUFHLFNBQVMsU0FBQUMsR0FDeEMsSUFBTU8sRUFBUU4sRUFBRUQsRUFBRVEsZUFFZEQsRUFBTVksU0FBU3VCLFNBQVMsdUJBQzFCMUMsRUFBRWtELGlCQUdKM0MsRUFBTUosUUFBUSx1QkFBdUJ1RixZQUFZLDhCQUE4QnJGLEtBQUssNkJBQTZCeUMsWUFBWSIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLXRhYnMtZHJvcGRvd24nKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtdGFicy1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdqcy10YWJzLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGFicy1kcm9wZG93bi1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxufSk7XG5cbi8vIHRhYnMgaGFuZGxpbmdcbiQoJy5qcy10YWInKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtY29udGVudCcpO1xuICBjb25zdCAkdGFicyA9ICR0aGlzLmNsb3Nlc3QoJy5qcy10YWJzJyk7XG5cbiAgJHRhYnMuZmluZCgnLnRhYnNfX2l0ZW0tLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCd0YWJzX19pdGVtLS1hY3RpdmUnKTtcbiAgJHRoaXMuYWRkQ2xhc3MoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuXG4gICR0YWJzLmZpbmQoJy5qcy10YWJzLWNvbnRlbnQnKS5oaWRlKDApO1xuICAkdGFicy5maW5kKGAuanMtdGFicy1jb250ZW50W2RhdGEtY29udGVudD1cIiR7dGFyZ2V0fVwiXWApLmZhZGVJbig1MDApO1xufSk7XG5cbi8vIHRhYnMgZHJvcGRvd25cbiQoJ2JvZHknKS5vbignY2xpY2snLCAnLmpzLXRhYnMtZHJvcGRvd24taXRlbScsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy10YWJzLWRyb3Bkb3duLWlubmVyJykubGVuZ3RoKSB7XG4gICAgY29uc3QgJHRhYnNEcm9wZG93bklubmVyID0gJHRoaXMucGFyZW50KCk7XG4gICAgJHRoaXMucGFyZW50KCkuc2libGluZ3MoJy5qcy10YWJzLWRyb3Bkb3duLWl0ZW0nKS5wcmVwZW5kVG8oJHRoaXMucGFyZW50KCkpO1xuICAgICR0aGlzLnByZXBlbmRUbygkdGhpcy5jbG9zZXN0KCcuanMtdGFicy1kcm9wZG93bicpKTtcblxuICAgIC8vIHNvcnQgZWxlbWVudHNcbiAgICBjb25zdCAkc29ydGVkSXRlbXMgPSBBcnJheS5mcm9tKCR0aGlzLm5leHQoKS5jaGlsZHJlbigpKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhVGV4dCA9IGEuaW5uZXJUZXh0O1xuICAgICAgY29uc3QgYlRleHQgPSBiLmlubmVyVGV4dDtcbiAgXG4gICAgICBpZiAoYVRleHQgPCBiVGV4dCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkdGhpcy5uZXh0KCkuY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAkdGFic0Ryb3Bkb3duSW5uZXIuYXBwZW5kKCRzb3J0ZWRJdGVtcyk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtdGFicy1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdqcy10YWJzLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGFicy1kcm9wZG93bi1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZSA9PiB7XG4gIC8vIGhpZGUgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbiAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1wb3B1cC1kcm9wZG93bicpLmxlbmd0aCkge1xuICAgICQoJy5qcy1wb3B1cC1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdqcy1wb3B1cC1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLXBvcHVwLWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG59KTtcblxuLy8gcG9wdXAgaGFuZGxpbmdcbmxldCB0b3BPZmZzZXQgPSAwO1xuXG5jb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gIHRvcE9mZnNldCA9IHdpbmRvdy5zY3JvbGxZO1xuXG4gICQoJ2JvZHknKS5jc3Moe1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIG1hcmdpblRvcDogYCR7LXRvcE9mZnNldH1weGBcbiAgfSk7XG59O1xuXG5jb25zdCBzaG93T3ZlcmZsb3cgPSAoKSA9PiB7XG4gICQoJ2JvZHknKS5jc3Moe1xuICAgIHBvc2l0aW9uOiAnc3RhdGljJyxcbiAgICBtYXJnaW5Ub3A6ICcwJ1xuICB9KTtcblxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgdG9wT2Zmc2V0KTtcbn07XG5cbmNvbnN0IGNsb3NlUG9wdXAgPSAoZSwgJHRoaXMpID0+IHtcbiAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5wb3B1cF9fd2luZG93JykubGVuZ3RoIHx8ICEkdGhpcy5oYXNDbGFzcygnanMtcG9wdXAnKSkge1xuICAgIHNob3dPdmVyZmxvdygpO1xuICBcbiAgICAkdGhpcy5jbG9zZXN0KCcuanMtcG9wdXAnKS5oaWRlKDApO1xuXHR9XG59O1xuXG5jb25zdCBvcGVuUG9wdXAgPSAkcG9wdXAgPT4ge1xuICBoaWRlT3ZlcmZsb3coKTtcbiAgXG4gICRwb3B1cC5mYWRlSW4oMzAwKTtcbn07XG5cbiQoJy5qcy1vcGVuLXBvcHVwJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLXBvcHVwJyk7XG4gIGNvbnN0ICRwb3B1cCA9ICQoYC5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCk7XG4gIG9wZW5Qb3B1cCgkcG9wdXApO1xufSk7XG5cbiQoJy5qcy1jbG9zZS1wb3B1cCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjbG9zZVBvcHVwKGUsICQoZS5jdXJyZW50VGFyZ2V0KSk7XG59KTtcblxuLy8gcG9wdXAgZHJvcGRvd25cbiQoJy5qcy1wb3B1cC1kcm9wZG93bi1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy1wb3B1cC1kcm9wZG93bi1pbm5lcicpLmxlbmd0aCkge1xuICAgICR0aGlzLnBhcmVudCgpLnNpYmxpbmdzKCcuanMtcG9wdXAtZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy1wb3B1cC1kcm9wZG93bicpKTtcbiAgfVxuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy1wb3B1cC1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdqcy1wb3B1cC1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLXBvcHVwLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG4vLyBwb3B1cCBmb3JtcyBoYW5kbGluZ1xuJCgnLmpzLWZvcm0td2l0aGRyYXcnKS5vbignc3VibWl0JywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0ICRhZGRyZXNzID0gJHRoaXMuZmluZCgnaW5wdXRbbmFtZT1cImV0aFdpdGhkcmF3YWxXYWxsZXRBZGRyZXNzXCJdJyk7XG4gIGNvbnN0ICRhbW91bnQgPSAkdGhpcy5maW5kKCdpbnB1dFtuYW1lPVwiZXRoU3VtVG9XaXRoZHJhd1wiXScpO1xuICBsZXQgaXNWYWxpZCA9IHRydWU7XG5cbiAgaWYgKCRhZGRyZXNzLnZhbCgpLmxlbmd0aCAhPT0gMzQpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJGFkZHJlc3MuY2xvc2VzdCgnLmlucHV0JykuYWRkQ2xhc3MoJ2lucHV0LS1lcnJvcicpO1xuICB9XG5cbiAgaWYgKCRhbW91bnQudmFsKCkgPCAkYW1vdW50LmF0dHIoJ2RhdGEtbWluJykpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJGFtb3VudC5jbG9zZXN0KCcuaW5wdXQnKS5hZGRDbGFzcygnaW5wdXQtLWVycm9yJykuZmluZCgnLmlucHV0X19lcnJvcicpLnRleHQoYNCc0LjQvdC40LzRg9C8ICR7JGFtb3VudC5hdHRyKCdkYXRhLW1pbicpfWApO1xuICB9IGVsc2UgaWYgKCRhbW91bnQudmFsKCkgPiAkYW1vdW50LmF0dHIoJ2RhdGEtbWF4JykpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJGFtb3VudC5jbG9zZXN0KCcuaW5wdXQnKS5hZGRDbGFzcygnaW5wdXQtLWVycm9yJykuZmluZCgnLmlucHV0X19lcnJvcicpLnRleHQoJ9Cd0LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsicpO1xuICB9XG5cbiAgaWYgKGlzVmFsaWQpIHtcbiAgICAvLyBzZW5kIGZvcm1cbiAgfVxufSk7XG5cbiQoJy5qcy1mb3JtLXRyYW5zZmVyJykub24oJ3N1Ym1pdCcsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCAkbmFtZSA9ICR0aGlzLmZpbmQoJ2lucHV0W25hbWU9XCJyZWNpcGllbnROYW1lXCJdJyk7XG4gIGNvbnN0ICRhbW91bnQgPSAkdGhpcy5maW5kKCdpbnB1dFtuYW1lPVwidHJhbnNmZXJBbW91bnRcIl0nKTtcbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuXG4gIGlmICgkbmFtZS52YWwoKS5sZW5ndGggIT09IDM0KSB7XG4gICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICRuYW1lLmNsb3Nlc3QoJy5pbnB1dCcpLmFkZENsYXNzKCdpbnB1dC0tZXJyb3InKTtcbiAgfVxuXG4gIGlmICgkYW1vdW50LnZhbCgpID4gJGFtb3VudC5hdHRyKCdkYXRhLW1heCcpKSB7XG4gICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICRhbW91bnQuY2xvc2VzdCgnLmlucHV0JykuYWRkQ2xhc3MoJ2lucHV0LS1lcnJvcicpLmZpbmQoJy5pbnB1dF9fZXJyb3InKS50ZXh0KCfQndC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YHRgNC10LTRgdGC0LInKTtcbiAgfVxuXG4gIGlmIChpc1ZhbGlkKSB7XG4gICAgLy8gc2VuZCBmb3JtXG4gIH1cbn0pO1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUudGFyZ2V0KTtcblxuICAvLyBoaWRlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkdGhpcy5oYXNDbGFzcygnanMtdGVsLWRyb3Bkb3duJykgJiYgISR0aGlzLmhhc0NsYXNzKCdpbnB1dF9fZmllbGQnKSkge1xuICAgICQoJy5qcy10ZWwtZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnanMtdGVsLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGVsLWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG59KTtcblxuLy8gY29weSB0byBjbGlwYm9hcmRcbiQoJy5qcy1pbnB1dC1jb3B5Jykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaW5wdXQgPSBlLmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICBjb25zdCB0eXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG4gIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gIFxuICBpbnB1dC5zZWxlY3QoKTtcbiAgaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgOTk5OTkpO1xuICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcbn0pO1xuXG4vLyByZW1vdmUgZXJyb3IgdGV4dFxuJCgnLmlucHV0Jykub24oJ2lucHV0JywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaW5wdXQnKS5yZW1vdmVDbGFzcygnaW5wdXQtLWVycm9yJyk7XG59KTtcblxuLy8gc2V0IG1heCB0byBzdW0gaW5wdXRcbiQoJy5qcy1pbnB1dC1tYXgnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgJHRoaXMuc2libGluZ3MoJy5pbnB1dF9fZmllbGQnKS52YWwoJHRoaXMuc2libGluZ3MoJy5pbnB1dF9fZmllbGQnKS5hdHRyKCdkYXRhLW1heCcpKTtcbiAgJHRoaXMuY2xvc2VzdCgnLmlucHV0JykucmVtb3ZlQ2xhc3MoJ2lucHV0LS1lcnJvcicpO1xufSk7XG5cbi8vIHRlbCBkcm9wZG93blxuJCgnLmpzLXRlbC1kcm9wZG93bicpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnanMtdGVsLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGVsLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG4kKCcuanMtdGVsLWRyb3Bkb3duLWl0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IGljb24gPSAkdGhpcy5hdHRyKCdkYXRhLWljb24nKTtcblxuICAkdGhpcy5jbG9zZXN0KCcuanMtdGVsLWRyb3Bkb3duJykuYXR0cignZGF0YS1pY29uJywgaWNvbik7XG4gICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpLmZpbmQoJ2lucHV0JykuYXR0cigncGxhY2Vob2xkZXInLCAkdGhpcy5hdHRyKCdkYXRhLW1hc2snKS5yZXBsYWNlQWxsKCc5JywgJ18nKSkuaW5wdXRtYXNrKCR0aGlzLmF0dHIoJ2RhdGEtbWFzaycpKTtcbn0pO1xuXG4vLyBtYXNraW5nXG4kKCdpbnB1dFt0eXBlPVwidGVsXCJdJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgJChlbCkuaW5wdXRtYXNrKCQoZWwpLmF0dHIoJ2RhdGEtbWFzaycpKTtcbn0pO1xuXG4vLyB0b2dnbGUgdmlzaWJpbGl0eVxuJCgnLmpzLWlucHV0LXRvZ2dsZScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0ICRpbnB1dEZpZWxkID0gJChlLmN1cnJlbnRUYXJnZXQpLnNpYmxpbmdzKCdpbnB1dCcpO1xuXG4gICRpbnB1dEZpZWxkLmF0dHIoJ3R5cGUnLCAkaW5wdXRGaWVsZC5hdHRyKCd0eXBlJykgPT09ICdwYXNzd29yZCcgPyAndGV4dCcgOiAncGFzc3dvcmQnKTtcbn0pO1xuICAkKCcuY29kZV9faW5wdXQnKS5vbigna2V5dXAnLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IGlucHV0VmFsID0gJHRoaXMudmFsKCk7XG4gIGNvbnN0IGtleSA9IGUua2V5Q29kZSB8fCBlLmNoYXJDb2RlO1xuICBsZXQgY29kZUlzTm90RW50ZXJlZCA9IGZhbHNlO1xuXG4gICR0aGlzLnZhbChpbnB1dFZhbC5yZXBsYWNlKC9bXjAtOV0vZywgJycpKTtcblxuICBpZiAoIS9bXjAtOV0vZy50ZXN0KGlucHV0VmFsKSAmJiBrZXkgIT0gOCAmJiBrZXkgIT0gNDYpIHtcbiAgICAkdGhpcy5uZXh0KCkuZm9jdXMoKTtcbiAgfSBlbHNlIGlmICgoa2V5ID09IDggfHwga2V5ID09IDQ2KSAmJiBpbnB1dFZhbCA9PT0gJycpIHtcbiAgICAkdGhpcy5wcmV2KCkuZm9jdXMoKTtcbiAgfVxuXG4gICR0aGlzLnBhcmVudCgpLmZpbmQoJ2lucHV0JykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICBpZiAoZWwudmFsdWUgPT09ICcnKSB7XG4gICAgICBjb2RlSXNOb3RFbnRlcmVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICghY29kZUlzTm90RW50ZXJlZCkge1xuICAgICR0aGlzLnBhcmVudCgpLmFkZENsYXNzKCdjb2RlLS1lbnRlcmVkJyk7XG4gICAgJHRoaXMucGFyZW50KCkucGFyZW50KCkuZmluZCgnLmpzLWNvZGUtdGl0bGUnKS5oaWRlKCk7XG4gICAgJHRoaXMucGFyZW50KCkucGFyZW50KCkuZmluZCgnLmpzLWNvZGUtcmVzdWx0Jykuc2hvdygpO1xuICAgICR0aGlzLmJsdXIoKTtcbiAgfVxufSk7XG4gIC8vIGNvdW50IHN5bWJvbHMgcmVtYWluc1xuY29uc3QgY291bnRTeW1ib2xzID0gKCkgPT4ge1xuICBjb25zdCBpbnB1dExlbmd0aCA9IDE2MCAtICQoJy5qcy1jaGF0LWlucHV0JykudmFsKCkubGVuZ3RoO1xuXG4gICQoJy5qcy1jaGF0LWNvdW50ZXInKS50ZXh0KGlucHV0TGVuZ3RoKTtcblxuICBpZiAoMTYwIC0gJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKS5sZW5ndGggPCAwKSB7XG4gICAgJCgnLmNoYXRfX2Zvb3Rlci1pbnB1dC1jb3VudGVyJykuYWRkQ2xhc3MoJ2NoYXRfX2Zvb3Rlci1pbnB1dC1jb3VudGVyLS1lcnJvcicpO1xuICB9IGVsc2Uge1xuICAgICQoJy5jaGF0X19mb290ZXItaW5wdXQtY291bnRlcicpLnJlbW92ZUNsYXNzKCdjaGF0X19mb290ZXItaW5wdXQtY291bnRlci0tZXJyb3InKTtcbiAgfVxufTtcblxuLy8gcHJvZ3JhbWF0aWNhbGx5IGVudGVyIHN5bWJvbCB0byBpbnB1dFxuY29uc3QgZW50ZXJTeW1ib2wgPSBzeW1ib2wgPT4ge1xuICBjb25zdCBjdXJyZW50SW5wdXRUZXh0ID0gJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKTtcbiAgbGV0IGNvbW1hbmRTdHJpbmcgPSAnJztcblxuICBpZiAoL1xccyQvLnRlc3QoJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKSkgfHwgY3VycmVudElucHV0VGV4dC5sZW5ndGggPT09IDApIHtcbiAgICBjb21tYW5kU3RyaW5nID0gc3ltYm9sO1xuICB9IGVsc2Uge1xuICAgIGNvbW1hbmRTdHJpbmcgPSAnICcgKyBzeW1ib2w7XG4gIH1cbiAgXG4gICQoJy5qcy1jaGF0LWlucHV0JykudmFsKGN1cnJlbnRJbnB1dFRleHQgKyBjb21tYW5kU3RyaW5nKS5mb2N1cygpO1xuXG4gIGNvdW50U3ltYm9scygpO1xufTtcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLnRhcmdldCk7XG5cbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJHRoaXMuY2xvc2VzdCgnLmpzLWNoYXQtZHJvcGRvd24nKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtY2hhdC1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdqcy1jaGF0LWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtY2hhdC1kcm9wZG93bi1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxufSk7XG5cbi8vIG9wZW4gY2hhdCB3aW5kb3dcbiQoJy5qcy1jaGF0LW9wZW4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5qcy1jaGF0Jykuc2xpZGVEb3duKDMwMCk7XG4gICQoJy5qcy1jaGF0LW1lc3NhZ2VzJykuc2Nyb2xsVG9wKCQoJy5qcy1jaGF0LW1lc3NhZ2VzJykucHJvcCgnc2Nyb2xsSGVpZ2h0JyksIDApO1xuICAkKCcuanMtY2hhdC1pbnB1dCcpLmZvY3VzKCk7XG59KTtcblxuLy8gY2xvc2UgY2hhdCB3aW5kb3dcbiQoJy5qcy1jaGF0LWNsb3NlJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCcuanMtY2hhdCcpLnNsaWRlVXAoMzAwKTtcbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS5ibHVyKCk7XG59KTtcblxuLy8gY2hhdCBkcm9wZG93blxuJCgnLmpzLWNoYXQtZHJvcGRvd24taXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICBpZiAoISR0aGlzLnNpYmxpbmdzKCcuanMtY2hhdC1kcm9wZG93bi1pbm5lcicpLmxlbmd0aCkge1xuICAgICR0aGlzLnBhcmVudCgpLnNpYmxpbmdzKCcuanMtY2hhdC1kcm9wZG93bi1pdGVtJykucHJlcGVuZFRvKCR0aGlzLnBhcmVudCgpKTtcbiAgICAkdGhpcy5wcmVwZW5kVG8oJHRoaXMuY2xvc2VzdCgnLmpzLWNoYXQtZHJvcGRvd24nKSk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtY2hhdC1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdqcy1jaGF0LWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtY2hhdC1kcm9wZG93bi1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcblxuLy8gY2hhdCBpbnB1dCBzeW1ib2wgY291bnRlclxuJCgnLmpzLWNoYXQtaW5wdXQnKS5vbignaW5wdXQnLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IGN1cnJlbnRJbnB1dFRleHQgPSAkdGhpcy52YWwoKTtcblxuICBjb3VudFN5bWJvbHMoKTtcblxuICBpZiAoL0AkLy50ZXN0KGN1cnJlbnRJbnB1dFRleHQpKSB7XG4gICAgJCgnLmpzLWNoYXQtbWVudGlvbnMnKS5zbGlkZURvd24oMzAwKTtcbiAgICAkKCcuanMtY2hhdC1jb21tYW5kcycpLnNsaWRlVXAoMzAwKTtcbiAgfSBlbHNlIGlmICgvXFwvJC8udGVzdChjdXJyZW50SW5wdXRUZXh0KSkge1xuICAgICQoJy5qcy1jaGF0LWNvbW1hbmRzJykuc2xpZGVEb3duKDMwMCk7XG4gICAgJCgnLmpzLWNoYXQtbWVudGlvbnMnKS5zbGlkZVVwKDMwMCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmpzLWNoYXQtbWVudGlvbnMnKS5zbGlkZVVwKDMwMCk7XG4gICAgJCgnLmpzLWNoYXQtY29tbWFuZHMnKS5zbGlkZVVwKDMwMCk7XG4gIH1cbn0pO1xuXG4vLyBjaGF0IHNjcm9sbCBoYW5kbGVyc1xuJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5vbignc2Nyb2xsJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgaWYgKCR0aGlzLnNjcm9sbFRvcCgpICsgJHRoaXMuaW5uZXJIZWlnaHQoKSA+PSAkdGhpcy5wcm9wKCdzY3JvbGxIZWlnaHQnKSAtIDEwKSB7XG4gICAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnY2hhdF9fbWVzc2FnZXMtLWJvdHRvbScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5wYXJlbnQoKS5yZW1vdmVDbGFzcygnY2hhdF9fbWVzc2FnZXMtLWJvdHRvbScpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuJCgnLmpzLWNoYXQtc2Nyb2xsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCcuanMtY2hhdC1tZXNzYWdlcycpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5wcm9wKCdzY3JvbGxIZWlnaHQnKX0sIDMwMCk7XG59KTtcblxuLy8gY2hhdCBtZW50aW9ucyBoYW5kbGVyc1xuJCgnLmpzLWNoYXQtbWVudGlvbmluZycpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgZW50ZXJTeW1ib2woJ0AnKTtcbiAgJCgnLmpzLWNoYXQtbWVudGlvbnMnKS5zbGlkZURvd24oMzAwKTtcbn0pO1xuXG4kKCcuanMtY2hhdC1tZW50aW9uJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpICsgJChlLmN1cnJlbnRUYXJnZXQpLnRleHQoKSArICcgJyk7XG4gICQoJy5qcy1jaGF0LW1lbnRpb25zJykuc2xpZGVVcCgzMDApO1xuXG4gIGNvdW50U3ltYm9scygpO1xuXG4gICQoJy5qcy1jaGF0LWlucHV0JykuZm9jdXMoKTtcbn0pO1xuXG4vLyBjaGF0IGNvbW1hbmRzIGhhbmRsZXJzXG4kKCcuanMtY2hhdC1jb21tYW5kaW5nJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBlbnRlclN5bWJvbCgnLycpO1xuICAkKCcuanMtY2hhdC1jb21tYW5kcycpLnNsaWRlRG93bigzMDApO1xufSk7XG5cbiQoJy5qcy1jaGF0LWNvbW1hbmQnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICQoJy5qcy1jaGF0LWlucHV0JykudmFsKCQoJy5qcy1jaGF0LWlucHV0JykudmFsKCkgKyAkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1jb21tYW5kJykgKyAnIEAnKTtcbiAgJCgnLmpzLWNoYXQtY29tbWFuZHMnKS5zbGlkZVVwKDMwMCk7XG4gICQoJy5qcy1jaGF0LW1lbnRpb25zJykuc2xpZGVEb3duKDMwMCk7XG5cbiAgY291bnRTeW1ib2xzKCk7XG5cbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS5mb2N1cygpO1xufSk7XG5cbi8vIHNlbmQgbWVzc2FnZSBoYW5kbGVyXG4kKCcuanMtY2hhdC1mb3JtJykub24oJ3N1Ym1pdCcsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIG1vbWVudC5sb2NhbGUoJ3J1Jyk7XG5cbiAgaWYgKDE2MCAtICQoJy5qcy1jaGF0LWlucHV0JykudmFsKCkubGVuZ3RoIDwgMCkge1xuICAgICQoJy5qcy1jaGF0LWlucHV0JykuZm9jdXMoKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGxhc3RCbG9ja0RhdGVUaW1lID0gJCgnLmNoYXRfX21lc3NhZ2VzLWJsb2NrOmxhc3QtY2hpbGQnKS5maW5kKCcuY2hhdF9fbWVzc2FnZXMtZGF0ZScpLnRleHQoKTtcbiAgY29uc3Qgbm93RGF0ZVRpbWUgPSBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdkZGRkIEhIOm1tJyk7XG4gIGNvbnN0IG1lc3NhZ2UgPSBgXG4gICAgPHAgY2xhc3M9XCJjaGF0X19tZXNzYWdlcy1pdGVtXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cImNoYXRfX21lc3NhZ2VzLW5hbWVcIj51c2VybmFtZTwvc3Bhbj46ICR7JCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKX1cbiAgICA8L3A+YC5yZXBsYWNlKC9AKFxcUyspXFxzL2dtLCAoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGA8YSBocmVmPVwiL3VzZXIvJHtifVwiIGNsYXNzPVwiY2hhdF9fbWVzc2FnZXMtdXNlclwiPkAke2J9PC9hPiBgO1xuICAgIH0pO1xuXG4gIGlmICgkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpLnJlcGxhY2UoL1xccy9nLCAnJykubGVuZ3RoKSB7XG4gICAgaWYgKG5vd0RhdGVUaW1lID09PSBsYXN0QmxvY2tEYXRlVGltZSkge1xuICAgICAgJCgnLmpzLWNoYXQtbWVzc2FnZXMgLmNoYXRfX21lc3NhZ2VzLWJsb2NrOmxhc3QtY2hpbGQnKS5hcHBlbmQobWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5qcy1jaGF0LW1lc3NhZ2VzJykuYXBwZW5kKGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoYXRfX21lc3NhZ2VzLWJsb2NrXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJjaGF0X19tZXNzYWdlcy1kYXRlXCI+JHtub3dEYXRlVGltZX08L3A+XG4gICAgICAgICAgJHttZXNzYWdlfVxuICAgICAgICA8L2Rpdj5gKTtcbiAgICB9XG4gICAgXG4gICAgJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoJycpLmZvY3VzKCk7XG4gICAgJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoJy5qcy1jaGF0LW1lc3NhZ2VzJykucHJvcCgnc2Nyb2xsSGVpZ2h0Jyl9LCAzMDApO1xuXG4gICAgY291bnRTeW1ib2xzKCk7XG4gIH1cblxuICAkKCcuanMtY2hhdC1pbnB1dCcpLmZvY3VzKCk7XG59KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUudGFyZ2V0KTtcblxuICAvLyBoaWRlIG1lbnUgb24gb3V0ZXIgY2xpY2tcbiAgaWYoISR0aGlzLmNsb3Nlc3QoJy5qcy1tZW51JykubGVuZ3RoICYmICEkdGhpcy5oYXNDbGFzcygnanMtYnVyZ2VyJykgJiYgISR0aGlzLmNsb3Nlc3QoJy5qcy1idXJnZXInKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnUtLWFjdGl2ZScpO1xuICB9XG4gIFxuICAvLyBoaWRlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkdGhpcy5jbG9zZXN0KCcuanMtaGVhZGVyLWRyb3Bkb3duJykubGVuZ3RoKSB7XG4gICAgJCgnLmpzLWhlYWRlci1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdqcy1oZWFkZXItZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy1oZWFkZXItZHJvcGRvd24taW5uZXInKS5zbGlkZVVwKDMwMCk7XG4gIH1cbiAgXG4gIC8vIGhpZGUgY29udGV4dCBtZW51IG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkdGhpcy5jbG9zZXN0KCcuaGVhZGVyX19jb250ZXh0JykubGVuZ3RoIHx8ICR0aGlzLmhhc0NsYXNzKCdqcy1vcGVuLXBvcHVwJykgfHwgJHRoaXMuaGFzQ2xhc3MoJ2pzLWNoYXQtb3BlbicpKSB7XG4gICAgJCgnLmpzLWhlYWRlci1jb250ZXh0LW1lbnUnKS5mYWRlT3V0KDMwMCk7XG4gIH1cbn0pO1xuXG4vLyBoZWFkZXIgbWVudVxuJCgnLmpzLWJ1cmdlcicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmpzLW1lbnUnKS50b2dnbGVDbGFzcygnaGVhZGVyX19tZW51LS1hY3RpdmUnKTtcblxuICBpZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8IDExOTkpIHtcbiAgICBoaWRlT3ZlcmZsb3coKTtcbiAgfVxufSk7XG5cbiQoJy5qcy1tZW51LWNsb3NlJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCcuanMtbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnUtLWFjdGl2ZScpO1xuXG4gIGlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpIDwgMTE5OSkge1xuICAgIHNob3dPdmVyZmxvdygpO1xuICB9XG59KTtcblxuLy8gaGVhZGVyIGRyb3Bkb3duXG5pZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbmN5U2hvdycpKSB7XG4gIGNvbnN0ICRjdXJyZW50Q3VycmVuY3kgPSAkKGAuanMtaGVhZGVyLWRyb3Bkb3duLWl0ZW1bZGF0YS1jdXJyZW5jeT1cIiR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbmN5U2hvdycpfVwiXWApO1xuXG4gICRjdXJyZW50Q3VycmVuY3kucGFyZW50KCkuc2libGluZ3MoJy5qcy1oZWFkZXItZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkY3VycmVudEN1cnJlbmN5LnBhcmVudCgpKTtcbiAgJGN1cnJlbnRDdXJyZW5jeS5wcmVwZW5kVG8oJGN1cnJlbnRDdXJyZW5jeS5jbG9zZXN0KCcuanMtaGVhZGVyLWRyb3Bkb3duJykpO1xufVxuXG4kKCcuanMtaGVhZGVyLWRyb3Bkb3duLWl0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgaWYgKCEkdGhpcy5zaWJsaW5ncygnLmpzLWhlYWRlci1kcm9wZG93bi1pbm5lcicpLmxlbmd0aCkge1xuICAgICR0aGlzLnBhcmVudCgpLnNpYmxpbmdzKCcuanMtaGVhZGVyLWRyb3Bkb3duLWl0ZW0nKS5wcmVwZW5kVG8oJHRoaXMucGFyZW50KCkpO1xuICAgICR0aGlzLnByZXBlbmRUbygkdGhpcy5jbG9zZXN0KCcuanMtaGVhZGVyLWRyb3Bkb3duJykpO1xuICB9XG5cbiAgaWYgKCR0aGlzLmF0dHIoJ2RhdGEtY3VycmVuY3knKSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW5jeVNob3cnLCAkdGhpcy5hdHRyKCdkYXRhLWN1cnJlbmN5JykpO1xuICB9XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmpzLWhlYWRlci1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdqcy1oZWFkZXItZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy1oZWFkZXItZHJvcGRvd24taW5uZXInKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbi8vIGNvbnRleHQgbWVudVxuJCgnLmpzLWhlYWRlci1jb250ZXh0Jykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICQoJy5qcy1oZWFkZXItY29udGV4dC1tZW51Jykubm90KCR0aGlzLnNpYmxpbmdzKCkpLmZhZGVPdXQoMzAwKTtcbiAgJHRoaXMuc2libGluZ3MoJy5qcy1oZWFkZXItY29udGV4dC1tZW51JykuZmFkZVRvZ2dsZSgzMDApO1xufSk7XG5cbi8vIGNyeXB0byBzd2l0Y2hcbmNvbnN0IHNldENyeXB0b0Nhc2hWaWV3ID0gdHlwZSA9PiB7XG4gIGlmICh0eXBlID09PSAnY2FzaCcpIHtcbiAgICAkKCcuaGVhZGVyX19jcnlwdG8gLmpzLWhlYWRlci1kcm9wZG93bi1pdGVtJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICQoZWwpLmh0bWwoYDxzcGFuPiQ8L3NwYW4+JHskKGVsKS5hdHRyKCdkYXRhLWNhc2gnKX1gKTtcbiAgICB9KTtcblxuICAgICQoJy5qcy1oZWFkZXItc3dpdGNoJykuYXR0cignZGF0YS10eXBlJywgJ2Nhc2gnKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnY3J5cHRvJykge1xuICAgICQoJy5oZWFkZXJfX2NyeXB0byAuanMtaGVhZGVyLWRyb3Bkb3duLWl0ZW0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgJChlbCkuaHRtbCgkKGVsKS5hdHRyKCdkYXRhLWNyeXB0bycpKTtcbiAgICB9KTtcblxuICAgICQoJy5qcy1oZWFkZXItc3dpdGNoJykuYXR0cignZGF0YS10eXBlJywgJ2NyeXB0bycpO1xuICB9XG59O1xuXG5pZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyeXB0b0Nhc2hWaWV3JykgPT09ICdjYXNoJykge1xuICBzZXRDcnlwdG9DYXNoVmlldygnY2FzaCcpO1xufSBlbHNlIHtcbiAgc2V0Q3J5cHRvQ2FzaFZpZXcoJ2NyeXB0bycpO1xufVxuXG4kKCcuanMtaGVhZGVyLXN3aXRjaCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICBpZiAoJHRoaXMuYXR0cignZGF0YS10eXBlJykgPT09ICdjcnlwdG8nKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyeXB0b0Nhc2hWaWV3JywgJ2Nhc2gnKTtcblxuICAgIHNldENyeXB0b0Nhc2hWaWV3KCdjYXNoJyk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyeXB0b0Nhc2hWaWV3JywgJ2NyeXB0bycpO1xuXG4gICAgc2V0Q3J5cHRvQ2FzaFZpZXcoJ2NyeXB0bycpO1xuICB9XG59KTtcbiAgJCgnLmpzLXNsaWRlcicpLnNsaWNrKHtcbiAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcbiAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgc3dpcGU6IGZhbHNlLFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpZGVyX19jYXJvdXNlbC1hcnJvdyBzbGlkZXJfX2Nhcm91c2VsLWFycm93LS1wcmV2XCI+PC9kaXY+JyxcbiAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cInNsaWRlcl9fY2Fyb3VzZWwtYXJyb3cgc2xpZGVyX19jYXJvdXNlbC1hcnJvdy0tbmV4dFwiPjwvZGl2PicsXG4gIHJlc3BvbnNpdmU6IFt7XG4gICAgYnJlYWtwb2ludDogMTE5OSxcbiAgICBzZXR0aW5nczoge1xuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIHN3aXBlOiB0cnVlLFxuICAgICAgc3dpcGVUb1NsaWRlOiB0cnVlXG4gICAgfVxuICB9XVxufSk7XG4gICQoJy5qcy1nYW1lcy1zbGlkZXInKS5zbGljayh7XG4gIGluZmluaXRlOiB0cnVlLFxuICBzd2lwZTogZmFsc2UsXG4gIHNsaWRlc1RvU2hvdzogNixcbiAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcbiAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cImdhbWVzX19zbGlkZXItYXJyb3cgZ2FtZXNfX3NsaWRlci1hcnJvdy0tcHJldlwiPjwvZGl2PicsXG4gIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJnYW1lc19fc2xpZGVyLWFycm93IGdhbWVzX19zbGlkZXItYXJyb3ctLW5leHRcIj48L2Rpdj4nLFxuICByZXNwb25zaXZlOiBbe1xuICAgIGJyZWFrcG9pbnQ6IDExOTksXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIHN3aXBlOiB0cnVlLFxuICAgICAgc3dpcGVUb1NsaWRlOiB0cnVlLFxuICAgICAgc2xpZGVzVG9TaG93OiAzXG4gICAgfVxuICB9XVxufSk7XG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGUgPT4ge1xuICAvLyBoaWRlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanMtZ3JvdXAtZHJvcGRvd24nKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtZ3JvdXAtZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnanMtZ3JvdXAtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy1ncm91cC1kcm9wZG93bi1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxufSk7XG5cbi8vIGdyb3VwIGRyb3Bkb3duXG4kKCdib2R5Jykub24oJ2NsaWNrJywgJy5qcy1ncm91cC1kcm9wZG93bi1pdGVtJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBcbiAgaWYgKCEkdGhpcy5zaWJsaW5ncygnLmpzLWdyb3VwLWRyb3Bkb3duLWlubmVyJykubGVuZ3RoKSB7XG4gICAgY29uc3QgJGdyb3VwRHJvcGRvd25Jbm5lciA9ICR0aGlzLnBhcmVudCgpO1xuICAgICR0aGlzLnBhcmVudCgpLnNpYmxpbmdzKCcuanMtZ3JvdXAtZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy1ncm91cC1kcm9wZG93bicpKTtcblxuICAgIC8vIHNvcnQgZWxlbWVudHNcbiAgICBjb25zdCAkc29ydGVkSXRlbXMgPSBBcnJheS5mcm9tKCR0aGlzLm5leHQoKS5jaGlsZHJlbigpKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhVGV4dCA9IGEuaW5uZXJUZXh0O1xuICAgICAgY29uc3QgYlRleHQgPSBiLmlubmVyVGV4dDtcbiAgXG4gICAgICBpZiAoYVRleHQgPCBiVGV4dCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkdGhpcy5uZXh0KCkuY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAkZ3JvdXBEcm9wZG93bklubmVyLmFwcGVuZCgkc29ydGVkSXRlbXMpO1xuICB9XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmpzLWdyb3VwLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2pzLWdyb3VwLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtZ3JvdXAtZHJvcGRvd24taW5uZXInKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG4gICQoJy5sZXZlbHNfX2l0ZW0taGVhZCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAkKCcubGV2ZWxzX19pdGVtLWRlc2MnKS5zbGlkZVVwKDMwMCk7XG5cbiAgaWYgKCR0aGlzLmhhc0NsYXNzKCdsZXZlbHNfX2l0ZW0taGVhZC0tYWN0aXZlJykpIHtcbiAgICAkdGhpcy5yZW1vdmVDbGFzcygnbGV2ZWxzX19pdGVtLWhlYWQtLWFjdGl2ZScpO1xuICB9IGVsc2Uge1xuICAgICQoJy5sZXZlbHNfX2l0ZW0taGVhZC0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2xldmVsc19faXRlbS1oZWFkLS1hY3RpdmUnKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnbGV2ZWxzX19pdGVtLWhlYWQtLWFjdGl2ZScpO1xuICAgICR0aGlzLnBhcmVudCgpLmZpbmQoJy5sZXZlbHNfX2l0ZW0tZGVzYycpLnNsaWRlRG93bigzMDApO1xuICB9XG59KTtcbiAgJCgnLmpzLXZpcC1zbGlkZXInKS5zbGljayh7XG4gIHZhcmlhYmxlV2lkdGg6IHRydWUsXG4gIHZhcmlhYmxlSGVpZ2h0OiB0cnVlLFxuICBjZW50ZXJNb2RlOiB0cnVlLFxuICBzd2lwZTogZmFsc2UsXG4gIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJ2aXBfX2ZlZWRiYWNrLWFycm93IHZpcF9fZmVlZGJhY2stYXJyb3ctLXByZXZcIj48L2Rpdj4nLFxuICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwidmlwX19mZWVkYmFjay1hcnJvdyB2aXBfX2ZlZWRiYWNrLWFycm93LS1uZXh0XCI+PC9kaXY+JyxcbiAgcmVzcG9uc2l2ZTogW3tcbiAgICBicmVha3BvaW50OiAxMTk5LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgc3dpcGU6IHRydWUsXG4gICAgICBzd2lwZVRvU2xpZGU6IHRydWVcbiAgICB9XG4gIH1dXG59KTtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLnRhcmdldCk7XG5cbiAgaWYoISR0aGlzLmNsb3Nlc3QoJy5qcy1zZXR0aW5ncy1maWx0ZXInKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtc2V0dGluZ3MtZmlsdGVyJykucmVtb3ZlQ2xhc3MoJ2pzLXNldHRpbmdzLWZpbHRlci0tYWN0aXZlJykuZmluZCgnLmpzLXNldHRpbmdzLWZpbHRlci1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxufSk7XG5cbi8vIHNldHRpbmdzIGZpbHRlciBkcm9wZG93blxuJCgnLmpzLXNldHRpbmdzLWZpbHRlci1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICgkdGhpcy5wYXJlbnQoKS5oYXNDbGFzcygnanMtc2V0dGluZ3MtZmlsdGVyJykpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtc2V0dGluZ3MtZmlsdGVyJykudG9nZ2xlQ2xhc3MoJ2pzLXNldHRpbmdzLWZpbHRlci0tYWN0aXZlJykuZmluZCgnLmpzLXNldHRpbmdzLWZpbHRlci1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcblxuXG59Il19
