"use strict";window.onload=function(){$(document).on("click",(function(e){$(e.target).closest(".js-tabs-dropdown").length||$(".js-tabs-dropdown").removeClass("js-tabs-dropdown--active").find(".js-tabs-dropdown-inner").slideUp(300)})),$(".js-tab").on("click",(function(e){var t=$(e.currentTarget),n=t.attr("data-content"),s=t.closest(".js-tabs");s.find(".tabs__item--active").removeClass("tabs__item--active"),t.addClass("tabs__item--active"),s.find(".js-tabs-content").hide(0),s.find('.js-tabs-content[data-content="'.concat(n,'"]')).fadeIn(500)})),$("body").on("click",".js-tabs-dropdown-item",(function(e){var t=$(e.currentTarget);if(!t.siblings(".js-tabs-dropdown-inner").length){var n=t.parent();t.parent().siblings(".js-tabs-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-tabs-dropdown"));var s=Array.from(t.next().children()).sort((function(e,t){if(e.innerText<t.innerText)return-1}));t.next().children().remove(),n.append(s)}t.closest(".js-tabs-dropdown").toggleClass("js-tabs-dropdown--active").find(".js-tabs-dropdown-inner").slideToggle(300)})),$(document).on("click",(function(e){$(e.target).closest(".js-popup-dropdown").length||$(".js-popup-dropdown").removeClass("js-popup-dropdown--active").find(".js-popup-dropdown-inner").slideUp(300)}));var e=0,t=function(){e=window.scrollY,$("body").css({position:"fixed",marginTop:"".concat(-e,"px")})},n=function(){$("body").css({position:"static",marginTop:"0"}),window.scrollTo(0,e)};$("body").on("click",".js-open-popup",(function(e){var n=$(e.currentTarget).attr("data-popup");!function(e){t(),$(".js-popup").hide(0),e.fadeIn(300)}($('.js-popup[data-popup="'.concat(n,'"]')))})),$(".js-close-popup").on("click",(function(e){!function(e,t){$(e.target).closest(".popup__window").length&&t.hasClass("js-popup")||(n(),t.closest(".js-popup").hide(0))}(e,$(e.currentTarget))})),$(".js-popup-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-popup-dropdown-inner").length||(t.parent().siblings(".js-popup-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-popup-dropdown"))),t.closest(".js-popup-dropdown").toggleClass("js-popup-dropdown--active").find(".js-popup-dropdown-inner").slideToggle(300)})),$(".js-form-withdraw").on("submit",(function(e){e.preventDefault();var t=$(e.currentTarget),n=t.find('input[name="ethWithdrawalWalletAddress"]'),s=t.find('input[name="ethSumToWithdraw"]');34!==n.val().length&&(!1,n.closest(".input").addClass("input--error")),s.val()<s.attr("data-min")?(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Минимум ".concat(s.attr("data-min")))):s.val()>s.attr("data-max")&&(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Недостаточно средств"))})),$(".js-form-transfer").on("submit",(function(e){e.preventDefault();var t=$(e.currentTarget),n=t.find('input[name="recipientName"]'),s=t.find('input[name="transferAmount"]');34!==n.val().length&&(!1,n.closest(".input").addClass("input--error")),s.val()>s.attr("data-max")&&(!1,s.closest(".input").addClass("input--error").find(".input__error").text("Недостаточно средств"))})),$(".js-popup-refresh").on("click",(function(e){var t=$(e.currentTarget);t.addClass("popup__refresh--loading"),setTimeout((function(){t.removeClass("popup__refresh--loading")}),1e3)})),$('.popup__user-action[data-action="transfer"]').on("click",(function(e){var t=$(e.currentTarget).parent().siblings(".popup__user-name").text();$('[data-popup="wallet"] .js-tab:last-child').click(),$('[data-popup="wallet"] input[name="recipientName"]').val(t)})),$('.popup__user-action[data-action="blacklist"]').on("click",(function(e){$(e.currentTarget).toggleClass("popup__user-action--active")})),$(document).on("click",(function(e){var t=$(e.target);t.hasClass("js-tel-dropdown")||t.hasClass("input__field")||$(".js-tel-dropdown").removeClass("js-tel-dropdown--active").find(".js-tel-dropdown-inner").slideUp(300)})),$(".js-input-copy").on("click",(function(e){e.preventDefault();var t=e.currentTarget.parentNode.querySelector("input"),n=t.getAttribute("type");t.setAttribute("type","text"),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),t.setAttribute("type",n)})),$(".input").on("input",(function(e){$(e.currentTarget).closest(".input").removeClass("input--error")})),$(".js-input-max").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".input__field").val(t.siblings(".input__field").attr("data-max")),t.closest(".input").removeClass("input--error")})),$(".js-tel-dropdown").on("click",(function(e){e.preventDefault(),$(e.currentTarget).toggleClass("js-tel-dropdown--active").find(".js-tel-dropdown-inner").slideToggle(300)})),$(".js-tel-dropdown-item").on("click",(function(e){var t=$(e.currentTarget),n=t.attr("data-icon");t.closest(".js-tel-dropdown").attr("data-icon",n),t.closest(".input").find("input").attr("placeholder",t.attr("data-mask").replaceAll("9","_")).inputmask(t.attr("data-mask"))})),$('input[type="tel"]').each((function(e,t){$(t).inputmask($(t).attr("data-mask"))})),$(".js-input-toggle").on("click",(function(e){e.preventDefault();var t=$(e.currentTarget).siblings("input");t.attr("type","password"===t.attr("type")?"text":"password")})),$('input[type="file"]').on("change",(function(e){var t=$(e.currentTarget),n=t.prop("files")[0].name;t.siblings(".input__file").addClass("input__file--uploaded").text(n)})),$(".code__input").on("keyup",(function(e){var t=$(e.currentTarget),n=t.val(),s=e.keyCode||e.charCode,a=!1;t.val(n.replace(/[^0-9]/g,"")),/[^0-9]/g.test(n)||8==s||46==s?8!=s&&46!=s||""!==n||t.prev().focus():t.next().focus(),t.parent().find("input").each((function(e,t){""===t.value&&(a=!0)})),a||(t.parent().addClass("code--entered"),t.parent().parent().find(".js-code-title").hide(),t.parent().parent().find(".js-code-result").show(),t.blur())}));var s=function(){var e=160-$(".js-chat-input").val().length;$(".js-chat-counter").text(e),160-$(".js-chat-input").val().length<0?$(".chat__footer-input-counter").addClass("chat__footer-input-counter--error"):$(".chat__footer-input-counter").removeClass("chat__footer-input-counter--error")},a=function(e){var t=$(".js-chat-input").val(),n="";n=/\s$/.test($(".js-chat-input").val())||0===t.length?e:" "+e,$(".js-chat-input").val(t+n).focus(),s()};if($(document).on("click",(function(e){$(e.target).closest(".js-chat-dropdown").length||$(".js-chat-dropdown").removeClass("js-chat-dropdown--active").find(".js-chat-dropdown-inner").slideUp(300)})),$(".js-chat-open").on("click",(function(){$(".js-chat").slideDown(300),$(".js-chat-messages").scrollTop($(".js-chat-messages").prop("scrollHeight"),0),$(".js-chat-input").focus()})),$(".js-chat-close").on("click",(function(){$(".js-chat").slideUp(300),$(".js-chat-input").blur()})),$(".js-chat-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-chat-dropdown-inner").length||(t.parent().siblings(".js-chat-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-chat-dropdown"))),t.closest(".js-chat-dropdown").toggleClass("js-chat-dropdown--active").find(".js-chat-dropdown-inner").slideToggle(300)})),$(".js-chat-input").on("input",(function(e){var t=$(e.currentTarget).val();s(),/@$/.test(t)?($(".js-chat-mentions").slideDown(300),$(".js-chat-commands").slideUp(300)):/\/$/.test(t)?($(".js-chat-commands").slideDown(300),$(".js-chat-mentions").slideUp(300)):($(".js-chat-mentions").slideUp(300),$(".js-chat-commands").slideUp(300))})),$(".js-chat-messages").on("scroll",(function(e){var t=$(e.currentTarget);requestAnimationFrame((function(){t.scrollTop()+t.innerHeight()>=t.prop("scrollHeight")-10?t.parent().addClass("chat__messages--bottom"):t.parent().removeClass("chat__messages--bottom")}))})),$(".js-chat-scroll").on("click",(function(){$(".js-chat-messages").animate({scrollTop:$(".js-chat-messages").prop("scrollHeight")},300)})),$(".js-chat-mentioning").on("click",(function(e){e.preventDefault(),a("@"),$(".js-chat-mentions").slideDown(300)})),$(".js-chat-mention").on("click",(function(e){e.preventDefault(),$(".js-chat-input").val($(".js-chat-input").val()+$(e.currentTarget).text()+" "),$(".js-chat-mentions").slideUp(300),s(),$(".js-chat-input").focus()})),$(".js-chat-commanding").on("click",(function(e){e.preventDefault(),a("/"),$(".js-chat-commands").slideDown(300)})),$(".js-chat-command").on("click",(function(e){e.preventDefault(),$(".js-chat-input").val($(".js-chat-input").val()+$(e.currentTarget).attr("data-command")+" @"),$(".js-chat-commands").slideUp(300),$(".js-chat-mentions").slideDown(300),s(),$(".js-chat-input").focus()})),$(".js-chat-form").on("submit",(function(e){if(e.preventDefault(),moment.locale("ru"),160-$(".js-chat-input").val().length<0)return $(".js-chat-input").focus(),!1;var t=$(".chat__messages-block:last-child").find(".chat__messages-date").text(),n=moment(new Date).format("dddd HH:mm"),a='\n    <p class="chat__messages-item">\n      <span class="chat__messages-name">username</span>: '.concat($(".js-chat-input").val(),"\n    </p>").replace(/@(\S+)\s/gm,(function(e,t){return'<a href="javascript:void(0)" class="chat__messages-user js-open-popup" data-popup="user">@'.concat(t,"</a> ")}));$(".js-chat-input").val().replace(/\s/g,"").length&&(n===t?$(".js-chat-messages .chat__messages-block:last-child").append(a):$(".js-chat-messages").append('\n        <div class="chat__messages-block">\n          <p class="chat__messages-date">'.concat(n,"</p>\n          ").concat(a,"\n        </div>")),$(".js-chat-input").val("").focus(),$(".js-chat-messages").animate({scrollTop:$(".js-chat-messages").prop("scrollHeight")},300),s()),$(".js-chat-input").focus()})),$(document).on("click",(function(e){var t=$(e.target);t.closest(".js-menu").length||t.hasClass("js-burger")||t.closest(".js-burger").length||$(".js-menu").removeClass("header__menu--active"),t.closest(".js-header-dropdown").length||$(".js-header-dropdown").removeClass("js-header-dropdown--active").find(".js-header-dropdown-inner").slideUp(300),(!t.closest(".header__context").length||t.hasClass("js-open-popup")||t.hasClass("js-chat-open"))&&$(".js-header-context-menu").fadeOut(300)})),$(".js-burger").on("click",(function(){$(".js-menu").toggleClass("header__menu--active"),$(window).innerWidth()<1199&&t()})),$(".js-menu-close").on("click",(function(){$(".js-menu").removeClass("header__menu--active"),$(window).innerWidth()<1199&&n()})),localStorage.getItem("currencyShow")){var r=$('.js-header-dropdown-item[data-currency="'.concat(localStorage.getItem("currencyShow"),'"]'));r.parent().siblings(".js-header-dropdown-item").prependTo(r.parent()),r.prependTo(r.closest(".js-header-dropdown"))}$(".js-header-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-header-dropdown-inner").length||(t.parent().siblings(".js-header-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-header-dropdown"))),t.attr("data-currency")&&localStorage.setItem("currencyShow",t.attr("data-currency")),t.closest(".js-header-dropdown").toggleClass("js-header-dropdown--active").find(".js-header-dropdown-inner").slideToggle(300)})),$(".js-header-context").on("click",(function(e){var t=$(e.currentTarget);$(".js-header-context-menu").not(t.siblings()).fadeOut(300),t.siblings(".js-header-context-menu").fadeToggle(300)}));var o=function(e){"cash"===e?($(".header__crypto .js-header-dropdown-item").each((function(e,t){$(t).html("<span>$</span>".concat($(t).attr("data-cash")))})),$(".js-header-switch").attr("data-type","cash")):"crypto"===e&&($(".header__crypto .js-header-dropdown-item").each((function(e,t){$(t).html($(t).attr("data-crypto"))})),$(".js-header-switch").attr("data-type","crypto"))};"cash"===localStorage.getItem("cryptoCashView")?o("cash"):o("crypto"),$(".js-header-switch").on("click",(function(e){"crypto"===$(e.currentTarget).attr("data-type")?(localStorage.setItem("cryptoCashView","cash"),o("cash")):(localStorage.setItem("cryptoCashView","crypto"),o("crypto"))})),$(".js-slider").slick({variableWidth:!0,centerMode:!0,swipe:!1,prevArrow:'<div class="slider__carousel-arrow slider__carousel-arrow--prev"></div>',nextArrow:'<div class="slider__carousel-arrow slider__carousel-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,swipe:!0,swipeToSlide:!0}}]}),$(".js-games-slider").slick({infinite:!0,swipe:!1,slidesToShow:6,variableWidth:!0,prevArrow:'<div class="games__slider-arrow games__slider-arrow--prev"></div>',nextArrow:'<div class="games__slider-arrow games__slider-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{swipe:!0,swipeToSlide:!0,slidesToShow:3}}]}),$(".js-group-filter").on("click",(function(e){$(e.currentTarget).toggleClass("group__filter--active")})),$(".levels__item-head").on("click",(function(e){var t=$(e.currentTarget);$(".levels__item-desc").slideUp(300),t.hasClass("levels__item-head--active")?t.removeClass("levels__item-head--active"):($(".levels__item-head--active").removeClass("levels__item-head--active"),t.addClass("levels__item-head--active"),t.parent().find(".levels__item-desc").slideDown(300))})),$(".js-vip-slider").slick({variableWidth:!0,variableHeight:!0,centerMode:!0,swipe:!1,prevArrow:'<div class="vip__feedback-arrow vip__feedback-arrow--prev"></div>',nextArrow:'<div class="vip__feedback-arrow vip__feedback-arrow--next"></div>',responsive:[{breakpoint:1199,settings:{arrows:!1,swipe:!0,swipeToSlide:!0}}]}),$(document).on("click",(function(e){$(e.target).closest(".js-settings-filter").length||$(".js-settings-filter").removeClass("js-settings-filter--active").find(".js-settings-filter-inner").slideUp(300),$(e.target).closest(".js-settings-dropdown").length||$(".js-settings-dropdown").removeClass("js-settings-dropdown--active").find(".js-settings-dropdown-inner").slideUp(300)})),$(".js-settings-filter-item").on("click",(function(e){var t=$(e.currentTarget);t.parent().hasClass("js-settings-filter")&&e.preventDefault(),t.closest(".js-settings-filter").toggleClass("js-settings-filter--active").find(".js-settings-filter-inner").slideToggle(300)})),$(".js-settings-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-settings-dropdown-inner").length||(t.parent().siblings(".js-settings-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-settings-dropdown"))),t.closest(".js-settings-dropdown").toggleClass("js-settings-dropdown--active").find(".js-settings-dropdown-inner").slideToggle(300)})),$(document).on("click",(function(e){$(e.target).closest(".js-player-dropdown").length||$(".js-player-dropdown").removeClass("js-player-dropdown--active").find(".js-player-dropdown-inner").slideUp(300),$(e.target).closest(".js-player-bubble").length||$(e.target).closest('[data-control="info"]').length||$(".js-player-bubble").fadeOut(300)})),$(".player__about-head").on("click",(function(e){var t=$(e.currentTarget);t.toggleClass("player__about-head--active"),t.parent().find(".player__about-content").slideToggle(300)})),$(".js-game-switch").on("click",(function(e){$(e.currentTarget).find(".player__game-switch-input").toggleClass("player__game-switch-input--active")})),$('[data-control="fullscreen"]').on("click",(function(){var e=document.body,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}$(".js-player-frame").addClass("player__game-frame--fullscreen"),$(".player__game-inner").addClass("player__game-inner--fullscreen")})),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",(function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||($(".js-player-frame").removeClass("player__game-frame--fullscreen"),$(".player__game-inner").removeClass("player__game-inner--fullscreen"))})),$('[data-control="favorite"]').on("click",(function(e){$(e.currentTarget).toggleClass("player__game-control--active")})),$('[data-control="info"]').on("click",(function(){$(".js-player-bubble").css("display","flex").hide(0).fadeIn(300)})),$(".js-player-bubble-close").on("click",(function(){$(".js-player-bubble").fadeOut(300)})),$(".js-play-real").on("click",(function(){$(".player__game-switch-input").addClass("player__game-switch-input--active"),$(".player__game-overlay").fadeOut(300),$(".player__game-menu").removeClass("player__game-menu--disabled")})),$(".js-play-entertain").on("click",(function(){$(".player__game-switch-input").removeClass("player__game-switch-input--active"),$(".player__game-overlay").fadeOut(300),$(".player__game-menu").removeClass("player__game-menu--disabled")})),$(".js-player-dropdown-item").on("click",(function(e){var t=$(e.currentTarget);t.siblings(".js-player-dropdown-inner").length||(t.parent().siblings(".js-player-dropdown-item").prependTo(t.parent()),t.prependTo(t.closest(".js-player-dropdown"))),t.closest(".js-player-dropdown").toggleClass("js-player-dropdown--active").find(".js-player-dropdown-inner").slideToggle(300)})),$(".js-search-input input").on("input",(function(e){$(e.currentTarget).val().length>=3?($(".js-search-text").hide(0),$(".js-search-output").fadeIn(300)):($(".js-search-output").hide(0),$(".js-search-text").fadeIn(300))})),$(".js-search-recommend").on("click",(function(e){$(".js-search-input input").val(e.currentTarget.innerText),$(".js-search-input input").trigger("input")}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJvbiIsImUiLCIkIiwidGFyZ2V0IiwiY2xvc2VzdCIsImxlbmd0aCIsImZpbmQiLCJzbGlkZVVwIiwiJHRoaXMiLCJjdXJyZW50VGFyZ2V0IiwiYXR0ciIsIiR0YWJzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhpZGUiLCJjb25jYXQiLCJmYWRlSW4iLCJzaWJsaW5ncyIsIiR0YWJzRHJvcGRvd25Jbm5lciIsInByZXBlbmRUbyIsInBhcmVudCIsIiRzb3J0ZWRJdGVtcyIsIkFycmF5IiwiY2hpbGRyZW4iLCJzb3J0IiwiYSIsImlubmVyVGV4dCIsImZyb20iLCJuZXh0IiwiYiIsInJlbW92ZSIsImRvY3VtZW50IiwiYXBwZW5kIiwidG9wT2Zmc2V0IiwibWFyZ2luVG9wIiwiaGlkZU92ZXJmbG93Iiwic2Nyb2xsWSIsImNzcyIsInBvc2l0aW9uIiwic2hvd092ZXJmbG93IiwiY2xvc2VQb3B1cCIsInNjcm9sbFRvIiwiJHBvcHVwIiwiaGFzQ2xhc3MiLCIkYWRkcmVzcyIsImlzVmFsaWQiLCJ0b2dnbGVDbGFzcyIsInNsaWRlVG9nZ2xlIiwiJGFtb3VudCIsInByZXZlbnREZWZhdWx0IiwidmFsIiwidGV4dCIsIiRuYW1lIiwic2V0VGltZW91dCIsImlucHV0Iiwic2VsZWN0IiwiY2xpY2siLCJuYW1lIiwicXVlcnlTZWxlY3RvciIsImljb24iLCJzZXRTZWxlY3Rpb25SYW5nZSIsImV4ZWNDb21tYW5kIiwic2V0QXR0cmlidXRlIiwiZmlsZU5hbWUiLCJrZXlDb2RlIiwiY2hhckNvZGUiLCJpbnB1dFZhbCIsImtleSIsInByZXYiLCJmb2N1cyIsInJlcGxhY2VBbGwiLCJpbnB1dG1hc2siLCJlYWNoIiwiaSIsImVsIiwiJGlucHV0RmllbGQiLCJwcm9wIiwiZW50ZXJTeW1ib2wiLCJjb2RlSXNOb3RFbnRlcmVkIiwicmVwbGFjZSIsImNvbW1hbmRTdHJpbmciLCJzeW1ib2wiLCJjb3VudFN5bWJvbHMiLCJ2YWx1ZSIsInNob3ciLCJibHVyIiwiaW5wdXRMZW5ndGgiLCJjdXJyZW50SW5wdXRUZXh0IiwidGVzdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNjcm9sbFRvcCIsInNsaWRlRG93biIsImlubmVySGVpZ2h0Iiwibm93RGF0ZVRpbWUiLCJEYXRlIiwiYW5pbWF0ZSIsImxhc3RCbG9ja0RhdGVUaW1lIiwiaW5uZXJXaWR0aCIsIm1vbWVudCIsImxvY2FsZSIsIiRjdXJyZW50Q3VycmVuY3kiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZm9ybWF0Iiwic2V0SXRlbSIsIm1lc3NhZ2UiLCJodG1sIiwic2V0Q3J5cHRvQ2FzaFZpZXciLCJmYWRlT3V0IiwicHJldkFycm93IiwibmV4dEFycm93IiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiaW5maW5pdGUiLCJzd2lwZSIsIm5vdCIsImZhZGVUb2dnbGUiLCJ0eXBlIiwiY2VudGVyTW9kZSIsInJlc3BvbnNpdmUiLCJhcnJvd3MiLCJzbGljayIsInNsaWRlc1RvU2hvdyIsInZhcmlhYmxlV2lkdGgiLCJzd2lwZVRvU2xpZGUiLCJyZXF1ZXN0TWV0aG9kIiwid3NjcmlwdCIsIlNlbmRLZXlzIiwidmFyaWFibGVIZWlnaHQiLCJib2R5IiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbFNjcmVlbiIsImNhbGwiLCJBY3RpdmVYT2JqZWN0IiwiZnVsbFNjcmVlbiIsIm1vekZ1bGxTY3JlZW4iLCJ3ZWJraXRJc0Z1bGxTY3JlZW4iLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiYUFBQUEsT0FBT0MsT0FBUyxXQUFoQkQsRUFBQUEsVUFBQUUsR0FBZ0IsU0FBQSxTQUFBQyxHQUdkQyxFQUFBRCxFQUFBRSxRQUFBQyxRQUFBLHFCQUFBQyxRQUNBSCxFQUFBLHFCQUFnQkUsWUFBUSw0QkFBNkJFLEtBQUEsMkJBQUFDLFFBQUEs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Syw2QkFBNkJ5QyxZQUFZLFFBRy9IN0MsRUFBRSwwQkFBMEJGLEdBQUcsU0FBUyxTQUFBQyxHQUN4QkMsRUFBRUQsRUFBRVEsZUFFUnlDLE1BQU03QyxRQUFVLEdBQ3hCSCxFQUFFLG1CQUFtQlksS0FBSyxHQUMxQlosRUFBRSxxQkFBcUJjLE9BQU8sT0FFOUJkLEVBQUUscUJBQXFCWSxLQUFLLEdBQzVCWixFQUFFLG1CQUFtQmMsT0FBTyxTQUloQ2QsRUFBRSx3QkFBd0JGLEdBQUcsU0FBUyxTQUFBQyxHQUNwQ0MsRUFBRSwwQkFBMEJnRCxJQUFJakQsRUFBRVEsY0FBY2lCLFdBQ2hEeEIsRUFBRSwwQkFBMEJ5SSxRQUFRIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGUgPT4ge1xuICAvLyBoaWRlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanMtdGFicy1kcm9wZG93bicpLmxlbmd0aCkge1xuICAgICQoJy5qcy10YWJzLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2pzLXRhYnMtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy10YWJzLWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG59KTtcblxuLy8gdGFicyBoYW5kbGluZ1xuJCgnLmpzLXRhYicpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuYXR0cignZGF0YS1jb250ZW50Jyk7XG4gIGNvbnN0ICR0YWJzID0gJHRoaXMuY2xvc2VzdCgnLmpzLXRhYnMnKTtcblxuICAkdGFicy5maW5kKCcudGFic19faXRlbS0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ3RhYnNfX2l0ZW0tLWFjdGl2ZScpO1xuICAkdGhpcy5hZGRDbGFzcygndGFic19faXRlbS0tYWN0aXZlJyk7XG5cbiAgJHRhYnMuZmluZCgnLmpzLXRhYnMtY29udGVudCcpLmhpZGUoMCk7XG4gICR0YWJzLmZpbmQoYC5qcy10YWJzLWNvbnRlbnRbZGF0YS1jb250ZW50PVwiJHt0YXJnZXR9XCJdYCkuZmFkZUluKDUwMCk7XG59KTtcblxuLy8gdGFicyBkcm9wZG93blxuJCgnYm9keScpLm9uKCdjbGljaycsICcuanMtdGFicy1kcm9wZG93bi1pdGVtJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBcbiAgaWYgKCEkdGhpcy5zaWJsaW5ncygnLmpzLXRhYnMtZHJvcGRvd24taW5uZXInKS5sZW5ndGgpIHtcbiAgICBjb25zdCAkdGFic0Ryb3Bkb3duSW5uZXIgPSAkdGhpcy5wYXJlbnQoKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5zaWJsaW5ncygnLmpzLXRhYnMtZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy10YWJzLWRyb3Bkb3duJykpO1xuXG4gICAgLy8gc29ydCBlbGVtZW50c1xuICAgIGNvbnN0ICRzb3J0ZWRJdGVtcyA9IEFycmF5LmZyb20oJHRoaXMubmV4dCgpLmNoaWxkcmVuKCkpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGFUZXh0ID0gYS5pbm5lclRleHQ7XG4gICAgICBjb25zdCBiVGV4dCA9IGIuaW5uZXJUZXh0O1xuICBcbiAgICAgIGlmIChhVGV4dCA8IGJUZXh0KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICR0aGlzLm5leHQoKS5jaGlsZHJlbigpLnJlbW92ZSgpO1xuICAgICR0YWJzRHJvcGRvd25Jbm5lci5hcHBlbmQoJHNvcnRlZEl0ZW1zKTtcbiAgfVxuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy10YWJzLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2pzLXRhYnMtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy10YWJzLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLXBvcHVwLWRyb3Bkb3duJykubGVuZ3RoKSB7XG4gICAgJCgnLmpzLXBvcHVwLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2pzLXBvcHVwLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtcG9wdXAtZHJvcGRvd24taW5uZXInKS5zbGlkZVVwKDMwMCk7XG4gIH1cbn0pO1xuXG4vLyBwb3B1cCBoYW5kbGluZ1xubGV0IHRvcE9mZnNldCA9IDA7XG5cbmNvbnN0IGhpZGVPdmVyZmxvdyA9ICgpID0+IHtcbiAgdG9wT2Zmc2V0ID0gd2luZG93LnNjcm9sbFk7XG5cbiAgJCgnYm9keScpLmNzcyh7XG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgbWFyZ2luVG9wOiBgJHstdG9wT2Zmc2V0fXB4YFxuICB9KTtcbn07XG5cbmNvbnN0IHNob3dPdmVyZmxvdyA9ICgpID0+IHtcbiAgJCgnYm9keScpLmNzcyh7XG4gICAgcG9zaXRpb246ICdzdGF0aWMnLFxuICAgIG1hcmdpblRvcDogJzAnXG4gIH0pO1xuXG4gIHdpbmRvdy5zY3JvbGxUbygwLCB0b3BPZmZzZXQpO1xufTtcblxuY29uc3QgY2xvc2VQb3B1cCA9IChlLCAkdGhpcykgPT4ge1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLnBvcHVwX193aW5kb3cnKS5sZW5ndGggfHwgISR0aGlzLmhhc0NsYXNzKCdqcy1wb3B1cCcpKSB7XG4gICAgc2hvd092ZXJmbG93KCk7XG4gIFxuICAgICR0aGlzLmNsb3Nlc3QoJy5qcy1wb3B1cCcpLmhpZGUoMCk7XG5cdH1cbn07XG5cbmNvbnN0IG9wZW5Qb3B1cCA9ICRwb3B1cCA9PiB7XG4gIGhpZGVPdmVyZmxvdygpO1xuXG4gICQoJy5qcy1wb3B1cCcpLmhpZGUoMCk7XG4gIFxuICAkcG9wdXAuZmFkZUluKDMwMCk7XG59O1xuXG4kKCdib2R5Jykub24oJ2NsaWNrJywgJy5qcy1vcGVuLXBvcHVwJywgZSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLXBvcHVwJyk7XG4gIGNvbnN0ICRwb3B1cCA9ICQoYC5qcy1wb3B1cFtkYXRhLXBvcHVwPVwiJHt0YXJnZXR9XCJdYCk7XG4gIG9wZW5Qb3B1cCgkcG9wdXApO1xufSk7XG5cbiQoJy5qcy1jbG9zZS1wb3B1cCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjbG9zZVBvcHVwKGUsICQoZS5jdXJyZW50VGFyZ2V0KSk7XG59KTtcblxuLy8gcG9wdXAgZHJvcGRvd25cbiQoJy5qcy1wb3B1cC1kcm9wZG93bi1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy1wb3B1cC1kcm9wZG93bi1pbm5lcicpLmxlbmd0aCkge1xuICAgICR0aGlzLnBhcmVudCgpLnNpYmxpbmdzKCcuanMtcG9wdXAtZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy1wb3B1cC1kcm9wZG93bicpKTtcbiAgfVxuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy1wb3B1cC1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdqcy1wb3B1cC1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLXBvcHVwLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG4vLyBwb3B1cCBmb3JtcyBoYW5kbGluZ1xuJCgnLmpzLWZvcm0td2l0aGRyYXcnKS5vbignc3VibWl0JywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0ICRhZGRyZXNzID0gJHRoaXMuZmluZCgnaW5wdXRbbmFtZT1cImV0aFdpdGhkcmF3YWxXYWxsZXRBZGRyZXNzXCJdJyk7XG4gIGNvbnN0ICRhbW91bnQgPSAkdGhpcy5maW5kKCdpbnB1dFtuYW1lPVwiZXRoU3VtVG9XaXRoZHJhd1wiXScpO1xuICBsZXQgaXNWYWxpZCA9IHRydWU7XG5cbiAgaWYgKCRhZGRyZXNzLnZhbCgpLmxlbmd0aCAhPT0gMzQpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJGFkZHJlc3MuY2xvc2VzdCgnLmlucHV0JykuYWRkQ2xhc3MoJ2lucHV0LS1lcnJvcicpO1xuICB9XG5cbiAgaWYgKCRhbW91bnQudmFsKCkgPCAkYW1vdW50LmF0dHIoJ2RhdGEtbWluJykpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJGFtb3VudC5jbG9zZXN0KCcuaW5wdXQnKS5hZGRDbGFzcygnaW5wdXQtLWVycm9yJykuZmluZCgnLmlucHV0X19lcnJvcicpLnRleHQoYNCc0LjQvdC40LzRg9C8ICR7JGFtb3VudC5hdHRyKCdkYXRhLW1pbicpfWApO1xuICB9IGVsc2UgaWYgKCRhbW91bnQudmFsKCkgPiAkYW1vdW50LmF0dHIoJ2RhdGEtbWF4JykpIHtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgJGFtb3VudC5jbG9zZXN0KCcuaW5wdXQnKS5hZGRDbGFzcygnaW5wdXQtLWVycm9yJykuZmluZCgnLmlucHV0X19lcnJvcicpLnRleHQoJ9Cd0LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsicpO1xuICB9XG5cbiAgaWYgKGlzVmFsaWQpIHtcbiAgICAvLyBzZW5kIGZvcm1cbiAgfVxufSk7XG5cbiQoJy5qcy1mb3JtLXRyYW5zZmVyJykub24oJ3N1Ym1pdCcsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCAkbmFtZSA9ICR0aGlzLmZpbmQoJ2lucHV0W25hbWU9XCJyZWNpcGllbnROYW1lXCJdJyk7XG4gIGNvbnN0ICRhbW91bnQgPSAkdGhpcy5maW5kKCdpbnB1dFtuYW1lPVwidHJhbnNmZXJBbW91bnRcIl0nKTtcbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuXG4gIGlmICgkbmFtZS52YWwoKS5sZW5ndGggIT09IDM0KSB7XG4gICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICRuYW1lLmNsb3Nlc3QoJy5pbnB1dCcpLmFkZENsYXNzKCdpbnB1dC0tZXJyb3InKTtcbiAgfVxuXG4gIGlmICgkYW1vdW50LnZhbCgpID4gJGFtb3VudC5hdHRyKCdkYXRhLW1heCcpKSB7XG4gICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICRhbW91bnQuY2xvc2VzdCgnLmlucHV0JykuYWRkQ2xhc3MoJ2lucHV0LS1lcnJvcicpLmZpbmQoJy5pbnB1dF9fZXJyb3InKS50ZXh0KCfQndC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YHRgNC10LTRgdGC0LInKTtcbiAgfVxuXG4gIGlmIChpc1ZhbGlkKSB7XG4gICAgLy8gc2VuZCBmb3JtXG4gIH1cbn0pO1xuXG4vLyByZWZyZXNoIHN0YXRpc3RpY3MgaGFuZGxlclxuJCgnLmpzLXBvcHVwLXJlZnJlc2gnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgJHRoaXMuYWRkQ2xhc3MoJ3BvcHVwX19yZWZyZXNoLS1sb2FkaW5nJyk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICR0aGlzLnJlbW92ZUNsYXNzKCdwb3B1cF9fcmVmcmVzaC0tbG9hZGluZycpO1xuICB9LCAxMDAwKTtcbn0pO1xuXG4vLyB1c2VyIGFjdGlvbnMgaGFuZGxlcnNcbiQoJy5wb3B1cF9fdXNlci1hY3Rpb25bZGF0YS1hY3Rpb249XCJ0cmFuc2ZlclwiXScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCBuYW1lID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLnNpYmxpbmdzKCcucG9wdXBfX3VzZXItbmFtZScpLnRleHQoKTtcblxuICAkKCdbZGF0YS1wb3B1cD1cIndhbGxldFwiXSAuanMtdGFiOmxhc3QtY2hpbGQnKS5jbGljaygpO1xuICAkKCdbZGF0YS1wb3B1cD1cIndhbGxldFwiXSBpbnB1dFtuYW1lPVwicmVjaXBpZW50TmFtZVwiXScpLnZhbChuYW1lKTtcbn0pO1xuXG4kKCcucG9wdXBfX3VzZXItYWN0aW9uW2RhdGEtYWN0aW9uPVwiYmxhY2tsaXN0XCJdJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygncG9wdXBfX3VzZXItYWN0aW9uLS1hY3RpdmUnKTtcbn0pO1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUudGFyZ2V0KTtcblxuICAvLyBoaWRlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkdGhpcy5oYXNDbGFzcygnanMtdGVsLWRyb3Bkb3duJykgJiYgISR0aGlzLmhhc0NsYXNzKCdpbnB1dF9fZmllbGQnKSkge1xuICAgICQoJy5qcy10ZWwtZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnanMtdGVsLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGVsLWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG59KTtcblxuLy8gY29weSB0byBjbGlwYm9hcmRcbiQoJy5qcy1pbnB1dC1jb3B5Jykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaW5wdXQgPSBlLmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICBjb25zdCB0eXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG4gIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gIFxuICBpbnB1dC5zZWxlY3QoKTtcbiAgaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgOTk5OTkpO1xuICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcbn0pO1xuXG4vLyByZW1vdmUgZXJyb3IgdGV4dFxuJCgnLmlucHV0Jykub24oJ2lucHV0JywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuaW5wdXQnKS5yZW1vdmVDbGFzcygnaW5wdXQtLWVycm9yJyk7XG59KTtcblxuLy8gc2V0IG1heCB0byBzdW0gaW5wdXRcbiQoJy5qcy1pbnB1dC1tYXgnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgJHRoaXMuc2libGluZ3MoJy5pbnB1dF9fZmllbGQnKS52YWwoJHRoaXMuc2libGluZ3MoJy5pbnB1dF9fZmllbGQnKS5hdHRyKCdkYXRhLW1heCcpKTtcbiAgJHRoaXMuY2xvc2VzdCgnLmlucHV0JykucmVtb3ZlQ2xhc3MoJ2lucHV0LS1lcnJvcicpO1xufSk7XG5cbi8vIHRlbCBkcm9wZG93blxuJCgnLmpzLXRlbC1kcm9wZG93bicpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnanMtdGVsLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtdGVsLWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG4kKCcuanMtdGVsLWRyb3Bkb3duLWl0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IGljb24gPSAkdGhpcy5hdHRyKCdkYXRhLWljb24nKTtcblxuICAkdGhpcy5jbG9zZXN0KCcuanMtdGVsLWRyb3Bkb3duJykuYXR0cignZGF0YS1pY29uJywgaWNvbik7XG4gICR0aGlzLmNsb3Nlc3QoJy5pbnB1dCcpLmZpbmQoJ2lucHV0JykuYXR0cigncGxhY2Vob2xkZXInLCAkdGhpcy5hdHRyKCdkYXRhLW1hc2snKS5yZXBsYWNlQWxsKCc5JywgJ18nKSkuaW5wdXRtYXNrKCR0aGlzLmF0dHIoJ2RhdGEtbWFzaycpKTtcbn0pO1xuXG4vLyBtYXNraW5nXG4kKCdpbnB1dFt0eXBlPVwidGVsXCJdJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgJChlbCkuaW5wdXRtYXNrKCQoZWwpLmF0dHIoJ2RhdGEtbWFzaycpKTtcbn0pO1xuXG4vLyB0b2dnbGUgdmlzaWJpbGl0eVxuJCgnLmpzLWlucHV0LXRvZ2dsZScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0ICRpbnB1dEZpZWxkID0gJChlLmN1cnJlbnRUYXJnZXQpLnNpYmxpbmdzKCdpbnB1dCcpO1xuXG4gICRpbnB1dEZpZWxkLmF0dHIoJ3R5cGUnLCAkaW5wdXRGaWVsZC5hdHRyKCd0eXBlJykgPT09ICdwYXNzd29yZCcgPyAndGV4dCcgOiAncGFzc3dvcmQnKTtcbn0pO1xuXG4vLyBmaWxlcyBoYW5kbGluZ1xuJCgnaW5wdXRbdHlwZT1cImZpbGVcIl0nKS5vbignY2hhbmdlJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCBmaWxlTmFtZSA9ICR0aGlzLnByb3AoJ2ZpbGVzJylbMF0ubmFtZTtcblxuICAkdGhpcy5zaWJsaW5ncygnLmlucHV0X19maWxlJykuYWRkQ2xhc3MoJ2lucHV0X19maWxlLS11cGxvYWRlZCcpLnRleHQoZmlsZU5hbWUpO1xufSk7XG4gICQoJy5jb2RlX19pbnB1dCcpLm9uKCdrZXl1cCcsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgY29uc3QgaW5wdXRWYWwgPSAkdGhpcy52YWwoKTtcbiAgY29uc3Qga2V5ID0gZS5rZXlDb2RlIHx8IGUuY2hhckNvZGU7XG4gIGxldCBjb2RlSXNOb3RFbnRlcmVkID0gZmFsc2U7XG5cbiAgJHRoaXMudmFsKGlucHV0VmFsLnJlcGxhY2UoL1teMC05XS9nLCAnJykpO1xuXG4gIGlmICghL1teMC05XS9nLnRlc3QoaW5wdXRWYWwpICYmIGtleSAhPSA4ICYmIGtleSAhPSA0Nikge1xuICAgICR0aGlzLm5leHQoKS5mb2N1cygpO1xuICB9IGVsc2UgaWYgKChrZXkgPT0gOCB8fCBrZXkgPT0gNDYpICYmIGlucHV0VmFsID09PSAnJykge1xuICAgICR0aGlzLnByZXYoKS5mb2N1cygpO1xuICB9XG5cbiAgJHRoaXMucGFyZW50KCkuZmluZCgnaW5wdXQnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgIGlmIChlbC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIGNvZGVJc05vdEVudGVyZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCFjb2RlSXNOb3RFbnRlcmVkKSB7XG4gICAgJHRoaXMucGFyZW50KCkuYWRkQ2xhc3MoJ2NvZGUtLWVudGVyZWQnKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuanMtY29kZS10aXRsZScpLmhpZGUoKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuanMtY29kZS1yZXN1bHQnKS5zaG93KCk7XG4gICAgJHRoaXMuYmx1cigpO1xuICB9XG59KTtcbiAgLy8gY291bnQgc3ltYm9scyByZW1haW5zXG5jb25zdCBjb3VudFN5bWJvbHMgPSAoKSA9PiB7XG4gIGNvbnN0IGlucHV0TGVuZ3RoID0gMTYwIC0gJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKS5sZW5ndGg7XG5cbiAgJCgnLmpzLWNoYXQtY291bnRlcicpLnRleHQoaW5wdXRMZW5ndGgpO1xuXG4gIGlmICgxNjAgLSAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpLmxlbmd0aCA8IDApIHtcbiAgICAkKCcuY2hhdF9fZm9vdGVyLWlucHV0LWNvdW50ZXInKS5hZGRDbGFzcygnY2hhdF9fZm9vdGVyLWlucHV0LWNvdW50ZXItLWVycm9yJyk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmNoYXRfX2Zvb3Rlci1pbnB1dC1jb3VudGVyJykucmVtb3ZlQ2xhc3MoJ2NoYXRfX2Zvb3Rlci1pbnB1dC1jb3VudGVyLS1lcnJvcicpO1xuICB9XG59O1xuXG4vLyBwcm9ncmFtYXRpY2FsbHkgZW50ZXIgc3ltYm9sIHRvIGlucHV0XG5jb25zdCBlbnRlclN5bWJvbCA9IHN5bWJvbCA9PiB7XG4gIGNvbnN0IGN1cnJlbnRJbnB1dFRleHQgPSAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpO1xuICBsZXQgY29tbWFuZFN0cmluZyA9ICcnO1xuXG4gIGlmICgvXFxzJC8udGVzdCgkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpKSB8fCBjdXJyZW50SW5wdXRUZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbW1hbmRTdHJpbmcgPSBzeW1ib2w7XG4gIH0gZWxzZSB7XG4gICAgY29tbWFuZFN0cmluZyA9ICcgJyArIHN5bWJvbDtcbiAgfVxuICBcbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoY3VycmVudElucHV0VGV4dCArIGNvbW1hbmRTdHJpbmcpLmZvY3VzKCk7XG5cbiAgY291bnRTeW1ib2xzKCk7XG59O1xuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUudGFyZ2V0KTtcblxuICAvLyBoaWRlIGRyb3Bkb3duIG9uIG91dGVyIGNsaWNrXG4gIGlmKCEkdGhpcy5jbG9zZXN0KCcuanMtY2hhdC1kcm9wZG93bicpLmxlbmd0aCkge1xuICAgICQoJy5qcy1jaGF0LWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2pzLWNoYXQtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy1jaGF0LWRyb3Bkb3duLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG59KTtcblxuLy8gb3BlbiBjaGF0IHdpbmRvd1xuJCgnLmpzLWNoYXQtb3BlbicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmpzLWNoYXQnKS5zbGlkZURvd24oMzAwKTtcbiAgJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5zY3JvbGxUb3AoJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5wcm9wKCdzY3JvbGxIZWlnaHQnKSwgMCk7XG4gICQoJy5qcy1jaGF0LWlucHV0JykuZm9jdXMoKTtcbn0pO1xuXG4vLyBjbG9zZSBjaGF0IHdpbmRvd1xuJCgnLmpzLWNoYXQtY2xvc2UnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5qcy1jaGF0Jykuc2xpZGVVcCgzMDApO1xuICAkKCcuanMtY2hhdC1pbnB1dCcpLmJsdXIoKTtcbn0pO1xuXG4vLyBjaGF0IGRyb3Bkb3duXG4kKCcuanMtY2hhdC1kcm9wZG93bi1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICghJHRoaXMuc2libGluZ3MoJy5qcy1jaGF0LWRyb3Bkb3duLWlubmVyJykubGVuZ3RoKSB7XG4gICAgJHRoaXMucGFyZW50KCkuc2libGluZ3MoJy5qcy1jaGF0LWRyb3Bkb3duLWl0ZW0nKS5wcmVwZW5kVG8oJHRoaXMucGFyZW50KCkpO1xuICAgICR0aGlzLnByZXBlbmRUbygkdGhpcy5jbG9zZXN0KCcuanMtY2hhdC1kcm9wZG93bicpKTtcbiAgfVxuXG4gICR0aGlzLmNsb3Nlc3QoJy5qcy1jaGF0LWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2pzLWNoYXQtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy1jaGF0LWRyb3Bkb3duLWlubmVyJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG4vLyBjaGF0IGlucHV0IHN5bWJvbCBjb3VudGVyXG4kKCcuanMtY2hhdC1pbnB1dCcpLm9uKCdpbnB1dCcsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgY29uc3QgY3VycmVudElucHV0VGV4dCA9ICR0aGlzLnZhbCgpO1xuXG4gIGNvdW50U3ltYm9scygpO1xuXG4gIGlmICgvQCQvLnRlc3QoY3VycmVudElucHV0VGV4dCkpIHtcbiAgICAkKCcuanMtY2hhdC1tZW50aW9ucycpLnNsaWRlRG93bigzMDApO1xuICAgICQoJy5qcy1jaGF0LWNvbW1hbmRzJykuc2xpZGVVcCgzMDApO1xuICB9IGVsc2UgaWYgKC9cXC8kLy50ZXN0KGN1cnJlbnRJbnB1dFRleHQpKSB7XG4gICAgJCgnLmpzLWNoYXQtY29tbWFuZHMnKS5zbGlkZURvd24oMzAwKTtcbiAgICAkKCcuanMtY2hhdC1tZW50aW9ucycpLnNsaWRlVXAoMzAwKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcuanMtY2hhdC1tZW50aW9ucycpLnNsaWRlVXAoMzAwKTtcbiAgICAkKCcuanMtY2hhdC1jb21tYW5kcycpLnNsaWRlVXAoMzAwKTtcbiAgfVxufSk7XG5cbi8vIGNoYXQgc2Nyb2xsIGhhbmRsZXJzXG4kKCcuanMtY2hhdC1tZXNzYWdlcycpLm9uKCdzY3JvbGwnLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBpZiAoJHRoaXMuc2Nyb2xsVG9wKCkgKyAkdGhpcy5pbm5lckhlaWdodCgpID49ICR0aGlzLnByb3AoJ3Njcm9sbEhlaWdodCcpIC0gMTApIHtcbiAgICAgICR0aGlzLnBhcmVudCgpLmFkZENsYXNzKCdjaGF0X19tZXNzYWdlcy0tYm90dG9tJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdjaGF0X19tZXNzYWdlcy0tYm90dG9tJyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4kKCcuanMtY2hhdC1zY3JvbGwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5qcy1jaGF0LW1lc3NhZ2VzJykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKCcuanMtY2hhdC1tZXNzYWdlcycpLnByb3AoJ3Njcm9sbEhlaWdodCcpfSwgMzAwKTtcbn0pO1xuXG4vLyBjaGF0IG1lbnRpb25zIGhhbmRsZXJzXG4kKCcuanMtY2hhdC1tZW50aW9uaW5nJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBlbnRlclN5bWJvbCgnQCcpO1xuICAkKCcuanMtY2hhdC1tZW50aW9ucycpLnNsaWRlRG93bigzMDApO1xufSk7XG5cbiQoJy5qcy1jaGF0LW1lbnRpb24nKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICQoJy5qcy1jaGF0LWlucHV0JykudmFsKCQoJy5qcy1jaGF0LWlucHV0JykudmFsKCkgKyAkKGUuY3VycmVudFRhcmdldCkudGV4dCgpICsgJyAnKTtcbiAgJCgnLmpzLWNoYXQtbWVudGlvbnMnKS5zbGlkZVVwKDMwMCk7XG5cbiAgY291bnRTeW1ib2xzKCk7XG5cbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS5mb2N1cygpO1xufSk7XG5cbi8vIGNoYXQgY29tbWFuZHMgaGFuZGxlcnNcbiQoJy5qcy1jaGF0LWNvbW1hbmRpbmcnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGVudGVyU3ltYm9sKCcvJyk7XG4gICQoJy5qcy1jaGF0LWNvbW1hbmRzJykuc2xpZGVEb3duKDMwMCk7XG59KTtcblxuJCgnLmpzLWNoYXQtY29tbWFuZCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKSArICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLWNvbW1hbmQnKSArICcgQCcpO1xuICAkKCcuanMtY2hhdC1jb21tYW5kcycpLnNsaWRlVXAoMzAwKTtcbiAgJCgnLmpzLWNoYXQtbWVudGlvbnMnKS5zbGlkZURvd24oMzAwKTtcblxuICBjb3VudFN5bWJvbHMoKTtcblxuICAkKCcuanMtY2hhdC1pbnB1dCcpLmZvY3VzKCk7XG59KTtcblxuLy8gc2VuZCBtZXNzYWdlIGhhbmRsZXJcbiQoJy5qcy1jaGF0LWZvcm0nKS5vbignc3VibWl0JywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgbW9tZW50LmxvY2FsZSgncnUnKTtcblxuICBpZiAoMTYwIC0gJCgnLmpzLWNoYXQtaW5wdXQnKS52YWwoKS5sZW5ndGggPCAwKSB7XG4gICAgJCgnLmpzLWNoYXQtaW5wdXQnKS5mb2N1cygpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgbGFzdEJsb2NrRGF0ZVRpbWUgPSAkKCcuY2hhdF9fbWVzc2FnZXMtYmxvY2s6bGFzdC1jaGlsZCcpLmZpbmQoJy5jaGF0X19tZXNzYWdlcy1kYXRlJykudGV4dCgpO1xuICBjb25zdCBub3dEYXRlVGltZSA9IG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ2RkZGQgSEg6bW0nKTtcbiAgY29uc3QgbWVzc2FnZSA9IGBcbiAgICA8cCBjbGFzcz1cImNoYXRfX21lc3NhZ2VzLWl0ZW1cIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY2hhdF9fbWVzc2FnZXMtbmFtZVwiPnVzZXJuYW1lPC9zcGFuPjogJHskKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgpfVxuICAgIDwvcD5gLnJlcGxhY2UoL0AoXFxTKylcXHMvZ20sIChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gYDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cImNoYXRfX21lc3NhZ2VzLXVzZXIganMtb3Blbi1wb3B1cFwiIGRhdGEtcG9wdXA9XCJ1c2VyXCI+QCR7Yn08L2E+IGA7XG4gICAgfSk7XG5cbiAgaWYgKCQoJy5qcy1jaGF0LWlucHV0JykudmFsKCkucmVwbGFjZSgvXFxzL2csICcnKS5sZW5ndGgpIHtcbiAgICBpZiAobm93RGF0ZVRpbWUgPT09IGxhc3RCbG9ja0RhdGVUaW1lKSB7XG4gICAgICAkKCcuanMtY2hhdC1tZXNzYWdlcyAuY2hhdF9fbWVzc2FnZXMtYmxvY2s6bGFzdC1jaGlsZCcpLmFwcGVuZChtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5hcHBlbmQoYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhdF9fbWVzc2FnZXMtYmxvY2tcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cImNoYXRfX21lc3NhZ2VzLWRhdGVcIj4ke25vd0RhdGVUaW1lfTwvcD5cbiAgICAgICAgICAke21lc3NhZ2V9XG4gICAgICAgIDwvZGl2PmApO1xuICAgIH1cbiAgICBcbiAgICAkKCcuanMtY2hhdC1pbnB1dCcpLnZhbCgnJykuZm9jdXMoKTtcbiAgICAkKCcuanMtY2hhdC1tZXNzYWdlcycpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCgnLmpzLWNoYXQtbWVzc2FnZXMnKS5wcm9wKCdzY3JvbGxIZWlnaHQnKX0sIDMwMCk7XG5cbiAgICBjb3VudFN5bWJvbHMoKTtcbiAgfVxuXG4gICQoJy5qcy1jaGF0LWlucHV0JykuZm9jdXMoKTtcbn0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS50YXJnZXQpO1xuXG4gIC8vIGhpZGUgbWVudSBvbiBvdXRlciBjbGlja1xuICBpZighJHRoaXMuY2xvc2VzdCgnLmpzLW1lbnUnKS5sZW5ndGggJiYgISR0aGlzLmhhc0NsYXNzKCdqcy1idXJnZXInKSAmJiAhJHRoaXMuY2xvc2VzdCgnLmpzLWJ1cmdlcicpLmxlbmd0aCkge1xuICAgICQoJy5qcy1tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudS0tYWN0aXZlJyk7XG4gIH1cbiAgXG4gIC8vIGhpZGUgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbiAgaWYoISR0aGlzLmNsb3Nlc3QoJy5qcy1oZWFkZXItZHJvcGRvd24nKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtaGVhZGVyLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2pzLWhlYWRlci1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLWhlYWRlci1kcm9wZG93bi1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxuICBcbiAgLy8gaGlkZSBjb250ZXh0IG1lbnUgb24gb3V0ZXIgY2xpY2tcbiAgaWYoISR0aGlzLmNsb3Nlc3QoJy5oZWFkZXJfX2NvbnRleHQnKS5sZW5ndGggfHwgJHRoaXMuaGFzQ2xhc3MoJ2pzLW9wZW4tcG9wdXAnKSB8fCAkdGhpcy5oYXNDbGFzcygnanMtY2hhdC1vcGVuJykpIHtcbiAgICAkKCcuanMtaGVhZGVyLWNvbnRleHQtbWVudScpLmZhZGVPdXQoMzAwKTtcbiAgfVxufSk7XG5cbi8vIGhlYWRlciBtZW51XG4kKCcuanMtYnVyZ2VyJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCcuanMtbWVudScpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX21lbnUtLWFjdGl2ZScpO1xuXG4gIGlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpIDwgMTE5OSkge1xuICAgIGhpZGVPdmVyZmxvdygpO1xuICB9XG59KTtcblxuJCgnLmpzLW1lbnUtY2xvc2UnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5qcy1tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudS0tYWN0aXZlJyk7XG5cbiAgaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPCAxMTk5KSB7XG4gICAgc2hvd092ZXJmbG93KCk7XG4gIH1cbn0pO1xuXG4vLyBoZWFkZXIgZHJvcGRvd25cbmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVuY3lTaG93JykpIHtcbiAgY29uc3QgJGN1cnJlbnRDdXJyZW5jeSA9ICQoYC5qcy1oZWFkZXItZHJvcGRvd24taXRlbVtkYXRhLWN1cnJlbmN5PVwiJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVuY3lTaG93Jyl9XCJdYCk7XG5cbiAgJGN1cnJlbnRDdXJyZW5jeS5wYXJlbnQoKS5zaWJsaW5ncygnLmpzLWhlYWRlci1kcm9wZG93bi1pdGVtJykucHJlcGVuZFRvKCRjdXJyZW50Q3VycmVuY3kucGFyZW50KCkpO1xuICAkY3VycmVudEN1cnJlbmN5LnByZXBlbmRUbygkY3VycmVudEN1cnJlbmN5LmNsb3Nlc3QoJy5qcy1oZWFkZXItZHJvcGRvd24nKSk7XG59XG5cbiQoJy5qcy1oZWFkZXItZHJvcGRvd24taXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICBpZiAoISR0aGlzLnNpYmxpbmdzKCcuanMtaGVhZGVyLWRyb3Bkb3duLWlubmVyJykubGVuZ3RoKSB7XG4gICAgJHRoaXMucGFyZW50KCkuc2libGluZ3MoJy5qcy1oZWFkZXItZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy1oZWFkZXItZHJvcGRvd24nKSk7XG4gIH1cblxuICBpZiAoJHRoaXMuYXR0cignZGF0YS1jdXJyZW5jeScpKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbmN5U2hvdycsICR0aGlzLmF0dHIoJ2RhdGEtY3VycmVuY3knKSk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtaGVhZGVyLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2pzLWhlYWRlci1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLWhlYWRlci1kcm9wZG93bi1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcblxuLy8gY29udGV4dCBtZW51XG4kKCcuanMtaGVhZGVyLWNvbnRleHQnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgJCgnLmpzLWhlYWRlci1jb250ZXh0LW1lbnUnKS5ub3QoJHRoaXMuc2libGluZ3MoKSkuZmFkZU91dCgzMDApO1xuICAkdGhpcy5zaWJsaW5ncygnLmpzLWhlYWRlci1jb250ZXh0LW1lbnUnKS5mYWRlVG9nZ2xlKDMwMCk7XG59KTtcblxuLy8gY3J5cHRvIHN3aXRjaFxuY29uc3Qgc2V0Q3J5cHRvQ2FzaFZpZXcgPSB0eXBlID0+IHtcbiAgaWYgKHR5cGUgPT09ICdjYXNoJykge1xuICAgICQoJy5oZWFkZXJfX2NyeXB0byAuanMtaGVhZGVyLWRyb3Bkb3duLWl0ZW0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgJChlbCkuaHRtbChgPHNwYW4+JDwvc3Bhbj4keyQoZWwpLmF0dHIoJ2RhdGEtY2FzaCcpfWApO1xuICAgIH0pO1xuXG4gICAgJCgnLmpzLWhlYWRlci1zd2l0Y2gnKS5hdHRyKCdkYXRhLXR5cGUnLCAnY2FzaCcpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjcnlwdG8nKSB7XG4gICAgJCgnLmhlYWRlcl9fY3J5cHRvIC5qcy1oZWFkZXItZHJvcGRvd24taXRlbScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAkKGVsKS5odG1sKCQoZWwpLmF0dHIoJ2RhdGEtY3J5cHRvJykpO1xuICAgIH0pO1xuXG4gICAgJCgnLmpzLWhlYWRlci1zd2l0Y2gnKS5hdHRyKCdkYXRhLXR5cGUnLCAnY3J5cHRvJyk7XG4gIH1cbn07XG5cbmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3J5cHRvQ2FzaFZpZXcnKSA9PT0gJ2Nhc2gnKSB7XG4gIHNldENyeXB0b0Nhc2hWaWV3KCdjYXNoJyk7XG59IGVsc2Uge1xuICBzZXRDcnlwdG9DYXNoVmlldygnY3J5cHRvJyk7XG59XG5cbiQoJy5qcy1oZWFkZXItc3dpdGNoJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICgkdGhpcy5hdHRyKCdkYXRhLXR5cGUnKSA9PT0gJ2NyeXB0bycpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3J5cHRvQ2FzaFZpZXcnLCAnY2FzaCcpO1xuXG4gICAgc2V0Q3J5cHRvQ2FzaFZpZXcoJ2Nhc2gnKTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3J5cHRvQ2FzaFZpZXcnLCAnY3J5cHRvJyk7XG5cbiAgICBzZXRDcnlwdG9DYXNoVmlldygnY3J5cHRvJyk7XG4gIH1cbn0pO1xuICAkKCcuanMtc2xpZGVyJykuc2xpY2soe1xuICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxuICBjZW50ZXJNb2RlOiB0cnVlLFxuICBzd2lwZTogZmFsc2UsXG4gIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGlkZXJfX2Nhcm91c2VsLWFycm93IHNsaWRlcl9fY2Fyb3VzZWwtYXJyb3ctLXByZXZcIj48L2Rpdj4nLFxuICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpZGVyX19jYXJvdXNlbC1hcnJvdyBzbGlkZXJfX2Nhcm91c2VsLWFycm93LS1uZXh0XCI+PC9kaXY+JyxcbiAgcmVzcG9uc2l2ZTogW3tcbiAgICBicmVha3BvaW50OiAxMTk5LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgc3dpcGU6IHRydWUsXG4gICAgICBzd2lwZVRvU2xpZGU6IHRydWVcbiAgICB9XG4gIH1dXG59KTtcbiAgJCgnLmpzLWdhbWVzLXNsaWRlcicpLnNsaWNrKHtcbiAgaW5maW5pdGU6IHRydWUsXG4gIHN3aXBlOiBmYWxzZSxcbiAgc2xpZGVzVG9TaG93OiA2LFxuICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxuICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwiZ2FtZXNfX3NsaWRlci1hcnJvdyBnYW1lc19fc2xpZGVyLWFycm93LS1wcmV2XCI+PC9kaXY+JyxcbiAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cImdhbWVzX19zbGlkZXItYXJyb3cgZ2FtZXNfX3NsaWRlci1hcnJvdy0tbmV4dFwiPjwvZGl2PicsXG4gIHJlc3BvbnNpdmU6IFt7XG4gICAgYnJlYWtwb2ludDogMTE5OSxcbiAgICBzZXR0aW5nczoge1xuICAgICAgc3dpcGU6IHRydWUsXG4gICAgICBzd2lwZVRvU2xpZGU6IHRydWUsXG4gICAgICBzbGlkZXNUb1Nob3c6IDNcbiAgICB9XG4gIH1dXG59KTtcbiAgLy8gZ3JvdXAgZmlsdGVyXG4kKCcuanMtZ3JvdXAtZmlsdGVyJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnZ3JvdXBfX2ZpbHRlci0tYWN0aXZlJyk7XG59KTtcbiAgJCgnLmxldmVsc19faXRlbS1oZWFkJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICQoJy5sZXZlbHNfX2l0ZW0tZGVzYycpLnNsaWRlVXAoMzAwKTtcblxuICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ2xldmVsc19faXRlbS1oZWFkLS1hY3RpdmUnKSkge1xuICAgICR0aGlzLnJlbW92ZUNsYXNzKCdsZXZlbHNfX2l0ZW0taGVhZC0tYWN0aXZlJyk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmxldmVsc19faXRlbS1oZWFkLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnbGV2ZWxzX19pdGVtLWhlYWQtLWFjdGl2ZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCdsZXZlbHNfX2l0ZW0taGVhZC0tYWN0aXZlJyk7XG4gICAgJHRoaXMucGFyZW50KCkuZmluZCgnLmxldmVsc19faXRlbS1kZXNjJykuc2xpZGVEb3duKDMwMCk7XG4gIH1cbn0pO1xuICAkKCcuanMtdmlwLXNsaWRlcicpLnNsaWNrKHtcbiAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcbiAgdmFyaWFibGVIZWlnaHQ6IHRydWUsXG4gIGNlbnRlck1vZGU6IHRydWUsXG4gIHN3aXBlOiBmYWxzZSxcbiAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cInZpcF9fZmVlZGJhY2stYXJyb3cgdmlwX19mZWVkYmFjay1hcnJvdy0tcHJldlwiPjwvZGl2PicsXG4gIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJ2aXBfX2ZlZWRiYWNrLWFycm93IHZpcF9fZmVlZGJhY2stYXJyb3ctLW5leHRcIj48L2Rpdj4nLFxuICByZXNwb25zaXZlOiBbe1xuICAgIGJyZWFrcG9pbnQ6IDExOTksXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBzd2lwZTogdHJ1ZSxcbiAgICAgIHN3aXBlVG9TbGlkZTogdHJ1ZVxuICAgIH1cbiAgfV1cbn0pO1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUudGFyZ2V0KTtcblxuICBpZighJHRoaXMuY2xvc2VzdCgnLmpzLXNldHRpbmdzLWZpbHRlcicpLmxlbmd0aCkge1xuICAgICQoJy5qcy1zZXR0aW5ncy1maWx0ZXInKS5yZW1vdmVDbGFzcygnanMtc2V0dGluZ3MtZmlsdGVyLS1hY3RpdmUnKS5maW5kKCcuanMtc2V0dGluZ3MtZmlsdGVyLWlubmVyJykuc2xpZGVVcCgzMDApO1xuICB9XG5cbiAgLy8gaGlkZSBkcm9wZG93biBvbiBvdXRlciBjbGlja1xuICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLXNldHRpbmdzLWRyb3Bkb3duJykubGVuZ3RoKSB7XG4gICAgJCgnLmpzLXNldHRpbmdzLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2pzLXNldHRpbmdzLWRyb3Bkb3duLS1hY3RpdmUnKS5maW5kKCcuanMtc2V0dGluZ3MtZHJvcGRvd24taW5uZXInKS5zbGlkZVVwKDMwMCk7XG4gIH1cbn0pO1xuXG4vLyBzZXR0aW5ncyBmaWx0ZXIgZHJvcGRvd25cbiQoJy5qcy1zZXR0aW5ncy1maWx0ZXItaXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICBpZiAoJHRoaXMucGFyZW50KCkuaGFzQ2xhc3MoJ2pzLXNldHRpbmdzLWZpbHRlcicpKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgJHRoaXMuY2xvc2VzdCgnLmpzLXNldHRpbmdzLWZpbHRlcicpLnRvZ2dsZUNsYXNzKCdqcy1zZXR0aW5ncy1maWx0ZXItLWFjdGl2ZScpLmZpbmQoJy5qcy1zZXR0aW5ncy1maWx0ZXItaW5uZXInKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbi8vIHNldHRpbmdzIGRyb3Bkb3duXG4kKCcuanMtc2V0dGluZ3MtZHJvcGRvd24taXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICBpZiAoISR0aGlzLnNpYmxpbmdzKCcuanMtc2V0dGluZ3MtZHJvcGRvd24taW5uZXInKS5sZW5ndGgpIHtcbiAgICAkdGhpcy5wYXJlbnQoKS5zaWJsaW5ncygnLmpzLXNldHRpbmdzLWRyb3Bkb3duLWl0ZW0nKS5wcmVwZW5kVG8oJHRoaXMucGFyZW50KCkpO1xuICAgICR0aGlzLnByZXBlbmRUbygkdGhpcy5jbG9zZXN0KCcuanMtc2V0dGluZ3MtZHJvcGRvd24nKSk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtc2V0dGluZ3MtZHJvcGRvd24nKS50b2dnbGVDbGFzcygnanMtc2V0dGluZ3MtZHJvcGRvd24tLWFjdGl2ZScpLmZpbmQoJy5qcy1zZXR0aW5ncy1kcm9wZG93bi1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZSA9PiB7XG4gIC8vIGhpZGUgZHJvcGRvd24gb24gb3V0ZXIgY2xpY2tcbiAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1wbGF5ZXItZHJvcGRvd24nKS5sZW5ndGgpIHtcbiAgICAkKCcuanMtcGxheWVyLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2pzLXBsYXllci1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLXBsYXllci1kcm9wZG93bi1pbm5lcicpLnNsaWRlVXAoMzAwKTtcbiAgfVxuXG4gIC8vIGhpZGUgdGFncyBidWJibGUgb24gb3V0ZXIgY2xpY2tcbiAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1wbGF5ZXItYnViYmxlJykubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5jbG9zZXN0KCdbZGF0YS1jb250cm9sPVwiaW5mb1wiXScpLmxlbmd0aCkge1xuICAgICQoJy5qcy1wbGF5ZXItYnViYmxlJykuZmFkZU91dCgzMDApO1xuICB9XG59KTtcblxuLy8gcGxheWVyIGFib3V0IHNjcmlwdHNcbiQoJy5wbGF5ZXJfX2Fib3V0LWhlYWQnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgJHRoaXMudG9nZ2xlQ2xhc3MoJ3BsYXllcl9fYWJvdXQtaGVhZC0tYWN0aXZlJyk7XG4gICR0aGlzLnBhcmVudCgpLmZpbmQoJy5wbGF5ZXJfX2Fib3V0LWNvbnRlbnQnKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbi8vIHN3aXRjaFxuJCgnLmpzLWdhbWUtc3dpdGNoJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcucGxheWVyX19nYW1lLXN3aXRjaC1pbnB1dCcpLnRvZ2dsZUNsYXNzKCdwbGF5ZXJfX2dhbWUtc3dpdGNoLWlucHV0LS1hY3RpdmUnKTtcbn0pO1xuXG4vLyBmdWxsc2NyZWVuIGhhbmRsZXJcbiQoJ1tkYXRhLWNvbnRyb2w9XCJmdWxsc2NyZWVuXCJdJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgY29uc3QgcmVxdWVzdE1ldGhvZCA9IGJvZHkucmVxdWVzdEZ1bGxTY3JlZW4gfHwgYm9keS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB8fCBib2R5Lm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGJvZHkubXNSZXF1ZXN0RnVsbFNjcmVlbjtcblxuICBpZiAocmVxdWVzdE1ldGhvZCkge1xuICAgIHJlcXVlc3RNZXRob2QuY2FsbChib2R5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93LkFjdGl2ZVhPYmplY3QgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjb25zdCB3c2NyaXB0ID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJXU2NyaXB0LlNoZWxsXCIpO1xuXG4gICAgaWYgKHdzY3JpcHQgIT09IG51bGwpIHtcbiAgICAgIHdzY3JpcHQuU2VuZEtleXMoXCJ7RjExfVwiKTtcbiAgICB9XG4gIH1cblxuICAkKCcuanMtcGxheWVyLWZyYW1lJykuYWRkQ2xhc3MoJ3BsYXllcl9fZ2FtZS1mcmFtZS0tZnVsbHNjcmVlbicpO1xuICAkKCcucGxheWVyX19nYW1lLWlubmVyJykuYWRkQ2xhc3MoJ3BsYXllcl9fZ2FtZS1pbm5lci0tZnVsbHNjcmVlbicpO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIG1vemZ1bGxzY3JlZW5jaGFuZ2UgZnVsbHNjcmVlbmNoYW5nZScsICgpID0+IHtcbiAgaWYgKCFkb2N1bWVudC5mdWxsU2NyZWVuICYmICFkb2N1bWVudC5tb3pGdWxsU2NyZWVuICYmICFkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4pIHtcbiAgICAkKCcuanMtcGxheWVyLWZyYW1lJykucmVtb3ZlQ2xhc3MoJ3BsYXllcl9fZ2FtZS1mcmFtZS0tZnVsbHNjcmVlbicpO1xuICAgICQoJy5wbGF5ZXJfX2dhbWUtaW5uZXInKS5yZW1vdmVDbGFzcygncGxheWVyX19nYW1lLWlubmVyLS1mdWxsc2NyZWVuJyk7XG4gIH1cbn0pO1xuXG4vLyBmYXZvcml0ZSBoYW5kbGVyXG4kKCdbZGF0YS1jb250cm9sPVwiZmF2b3JpdGVcIl0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCdwbGF5ZXJfX2dhbWUtY29udHJvbC0tYWN0aXZlJyk7XG59KTtcblxuLy8gdGFncyBidWJibGUgaGFuZGxlclxuJCgnW2RhdGEtY29udHJvbD1cImluZm9cIl0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5qcy1wbGF5ZXItYnViYmxlJykuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKS5oaWRlKDApLmZhZGVJbigzMDApO1xufSk7XG5cbiQoJy5qcy1wbGF5ZXItYnViYmxlLWNsb3NlJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCcuanMtcGxheWVyLWJ1YmJsZScpLmZhZGVPdXQoMzAwKTtcbn0pO1xuXG4vLyBvdmVybGF5IGhpZGUgaGFuZGxlcnNcbiQoJy5qcy1wbGF5LXJlYWwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5wbGF5ZXJfX2dhbWUtc3dpdGNoLWlucHV0JykuYWRkQ2xhc3MoJ3BsYXllcl9fZ2FtZS1zd2l0Y2gtaW5wdXQtLWFjdGl2ZScpO1xuICAkKCcucGxheWVyX19nYW1lLW92ZXJsYXknKS5mYWRlT3V0KDMwMCk7XG4gICQoJy5wbGF5ZXJfX2dhbWUtbWVudScpLnJlbW92ZUNsYXNzKCdwbGF5ZXJfX2dhbWUtbWVudS0tZGlzYWJsZWQnKTtcbn0pO1xuXG4kKCcuanMtcGxheS1lbnRlcnRhaW4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5wbGF5ZXJfX2dhbWUtc3dpdGNoLWlucHV0JykucmVtb3ZlQ2xhc3MoJ3BsYXllcl9fZ2FtZS1zd2l0Y2gtaW5wdXQtLWFjdGl2ZScpO1xuICAkKCcucGxheWVyX19nYW1lLW92ZXJsYXknKS5mYWRlT3V0KDMwMCk7XG4gICQoJy5wbGF5ZXJfX2dhbWUtbWVudScpLnJlbW92ZUNsYXNzKCdwbGF5ZXJfX2dhbWUtbWVudS0tZGlzYWJsZWQnKTtcbn0pO1xuXG4vLyBwbGF5ZXIgZHJvcGRvd25cbiQoJy5qcy1wbGF5ZXItZHJvcGRvd24taXRlbScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICBpZiAoISR0aGlzLnNpYmxpbmdzKCcuanMtcGxheWVyLWRyb3Bkb3duLWlubmVyJykubGVuZ3RoKSB7XG4gICAgJHRoaXMucGFyZW50KCkuc2libGluZ3MoJy5qcy1wbGF5ZXItZHJvcGRvd24taXRlbScpLnByZXBlbmRUbygkdGhpcy5wYXJlbnQoKSk7XG4gICAgJHRoaXMucHJlcGVuZFRvKCR0aGlzLmNsb3Nlc3QoJy5qcy1wbGF5ZXItZHJvcGRvd24nKSk7XG4gIH1cblxuICAkdGhpcy5jbG9zZXN0KCcuanMtcGxheWVyLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2pzLXBsYXllci1kcm9wZG93bi0tYWN0aXZlJykuZmluZCgnLmpzLXBsYXllci1kcm9wZG93bi1pbm5lcicpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcbiAgLy8gc2VhcmNoIGhhbmRsZXJcbiQoJy5qcy1zZWFyY2gtaW5wdXQgaW5wdXQnKS5vbignaW5wdXQnLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgaWYgKCR0aGlzLnZhbCgpLmxlbmd0aCA+PSAzKSB7XG4gICAgJCgnLmpzLXNlYXJjaC10ZXh0JykuaGlkZSgwKTtcbiAgICAkKCcuanMtc2VhcmNoLW91dHB1dCcpLmZhZGVJbigzMDApO1xuICB9IGVsc2Uge1xuICAgICQoJy5qcy1zZWFyY2gtb3V0cHV0JykuaGlkZSgwKTtcbiAgICAkKCcuanMtc2VhcmNoLXRleHQnKS5mYWRlSW4oMzAwKTtcbiAgfVxufSk7XG5cbiQoJy5qcy1zZWFyY2gtcmVjb21tZW5kJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICQoJy5qcy1zZWFyY2gtaW5wdXQgaW5wdXQnKS52YWwoZS5jdXJyZW50VGFyZ2V0LmlubmVyVGV4dCk7XG4gICQoJy5qcy1zZWFyY2gtaW5wdXQgaW5wdXQnKS50cmlnZ2VyKCdpbnB1dCcpO1xufSk7XG5cbn0iXX0=
